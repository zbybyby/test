!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.zap=t():e.zap=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){e.exports=n(30)},function(e,t){var n=e.exports={version:"2.2.2"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(8),r=n(1),o=n(49),a=n(53),s="prototype",f=function(e,t,n){var l,u,h,d=e&f.F,p=e&f.G,c=e&f.S,g=e&f.P,m=e&f.B,y=e&f.W,v=p?r:r[t]||(r[t]={}),_=v[s],w=p?i:c?i[t]:(i[t]||{})[s];p&&(n=t);for(l in n)u=!d&&w&&void 0!==w[l],u&&l in v||(h=u?w[l]:n[l],v[l]=p&&"function"!=typeof w[l]?n[l]:m&&u?o(h,i):y&&w[l]==h?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[s]=e[s],t}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((v.virtual||(v.virtual={}))[l]=h,e&f.R&&_&&!_[l]&&a(_,l,h)))};f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,e.exports=f},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)return void e.set(t.subarray(n,n+i),r);for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(i=0,t=0,n=e.length;n>t;t++)i+=e[t].length;for(a=new Uint8Array(i),r=0,t=0,n=e.length;n>t;t++)o=e[t],a.set(o,r),r+=o.length;return a}},r={arraySet:function(e,t,n,i,r){for(var o=0;i>o;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,r))},t.setTyped(n)},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(39),o=i(r);t["default"]=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,o["default"])(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(18),r=n(54),o=n(66),a=Object.defineProperty;t.f=n(2)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(58),r=n(51);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(36),o=i(r),a=n(6),s=i(a),f=n(7),l=i(f),u=function(){function e(t,n){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];(0,s["default"])(this,e),this.key=t,this.storage=n||window.localStorage,this.cache_={},this.forceRead_=i}return(0,l["default"])(e,[{key:"reread",value:function(){var e=void 0;try{e=JSON.parse(this.storage.getItem(this.key))}catch(t){}this.cache_=e||this.cache_}},{key:"sync_",value:function(){try{return this.storage.setItem(this.key,(0,o["default"])(this.cache_))}catch(e){}}},{key:"get",value:function(e){return this.forceRead_&&this.reread(),this.cache_[e]}},{key:"set",value:function(e,t){this.cache_[e]=t,this.sync_()}},{key:"remove",value:function(e){delete this.cache_[e],this.sync_()}},{key:"clear",value:function(){try{return this.storage.removeItem(this.key)}catch(e){}}}]),e}();t["default"]=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=navigator.userAgent;t["default"]={UA:n,Mobile:/Mobile/.test(n),Android:/Android/.test(n),UCBrowser:/UCBrowser/.test(n)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),o=i(r),a={},s=["hash","href","pathname","search","protocol","port","host","hostname","origin"].reduce(function(e,t){return e[t]={enumerable:!0,configurable:!0,get:function(){return window.location[t]}},e},{});(0,o["default"])(a,s),t["default"]=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(84),o=i(r),a=n(76),s=i(a),f=o["default"].loadJson(s["default"]),l=f.build().com.zhihu.za.proto;t["default"]=l},function(e,t,n){var i=n(9);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(48);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(20),r=n(19);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(19);e.exports=function(e){return Object(i(e))}},function(e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){var i,r,o;(function(e){/**
	 * @license bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
	 * Backing buffer: ArrayBuffer, Accessor: Uint8Array
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/bytebuffer.js for details
	 */
!function(a,s){n(12).amd?(r=[n(26)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))):"object"==typeof e&&e&&e.exports?e.exports=function(){var e;try{e=n(26)}catch(t){}return s(e)}():(a.dcodeIO=a.dcodeIO||{}).ByteBuffer=s(a.dcodeIO.Long)}(this,function(e){"use strict";function t(e){var t=0;return function(){return t<e.length?e.charCodeAt(t++):null}}function n(){var e=[],t=[];return function(){return 0===arguments.length?t.join("")+f.apply(String,e):(e.length+arguments.length>1024&&(t.push(f.apply(String,e)),e.length=0),void Array.prototype.push.apply(e,arguments))}}function i(e,t,n,i,r){var o,a,s=8*r-i-1,f=(1<<s)-1,l=f>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-l;else{if(o===f)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,i),o-=l}return(p?-1:1)*a*Math.pow(2,o-i)}function r(e,t,n,i,r,o){var a,s,f,l=8*o-r-1,u=(1<<l)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,c=i?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(f=Math.pow(2,-a))<1&&(a--,f*=2),t+=a+h>=1?d/f:d*Math.pow(2,1-h),t*f>=2&&(a++,f/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*f-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=c,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;e[n+p]=255&a,p+=c,a/=256,l-=8);e[n+p-c]|=128*g}var o=function(e,t,n){if("undefined"==typeof e&&(e=o.DEFAULT_CAPACITY),"undefined"==typeof t&&(t=o.DEFAULT_ENDIAN),"undefined"==typeof n&&(n=o.DEFAULT_NOASSERT),!n){if(e=0|e,0>e)throw RangeError("Illegal capacity");t=!!t,n=!!n}this.buffer=0===e?s:new ArrayBuffer(e),this.view=0===e?null:new Uint8Array(this.buffer),this.offset=0,this.markedOffset=-1,this.limit=e,this.littleEndian=t,this.noAssert=n};o.VERSION="5.0.1",o.LITTLE_ENDIAN=!0,o.BIG_ENDIAN=!1,o.DEFAULT_CAPACITY=16,o.DEFAULT_ENDIAN=o.BIG_ENDIAN,o.DEFAULT_NOASSERT=!1,o.Long=e||null;var a=o.prototype;a.__isByteBuffer__,Object.defineProperty(a,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var s=new ArrayBuffer(0),f=String.fromCharCode;o.accessor=function(){return Uint8Array},o.allocate=function(e,t,n){return new o(e,t,n)},o.concat=function(e,t,n,i){"boolean"!=typeof t&&"string"==typeof t||(i=n,n=t,t=void 0);for(var r,a=0,s=0,f=e.length;f>s;++s)o.isByteBuffer(e[s])||(e[s]=o.wrap(e[s],t)),r=e[s].limit-e[s].offset,r>0&&(a+=r);if(0===a)return new o(0,n,i);var l,u=new o(a,n,i);for(s=0;f>s;)l=e[s++],r=l.limit-l.offset,0>=r||(u.view.set(l.view.subarray(l.offset,l.limit),u.offset),u.offset+=r);return u.limit=u.offset,u.offset=0,u},o.isByteBuffer=function(e){return(e&&e.__isByteBuffer__)===!0},o.type=function(){return ArrayBuffer},o.wrap=function(e,t,n,i){if("string"!=typeof t&&(i=n,n=t,t=void 0),"string"==typeof e)switch("undefined"==typeof t&&(t="utf8"),t){case"base64":return o.fromBase64(e,n);case"hex":return o.fromHex(e,n);case"binary":return o.fromBinary(e,n);case"utf8":return o.fromUTF8(e,n);case"debug":return o.fromDebug(e,n);default:throw Error("Unsupported encoding: "+t)}if(null===e||"object"!=typeof e)throw TypeError("Illegal buffer");var r;if(o.isByteBuffer(e))return r=a.clone.call(e),r.markedOffset=-1,r;if(e instanceof Uint8Array)r=new o(0,n,i),e.length>0&&(r.buffer=e.buffer,r.offset=e.byteOffset,r.limit=e.byteOffset+e.byteLength,r.view=new Uint8Array(e.buffer));else if(e instanceof ArrayBuffer)r=new o(0,n,i),e.byteLength>0&&(r.buffer=e,r.offset=0,r.limit=e.byteLength,r.view=e.byteLength>0?new Uint8Array(e):null);else{if("[object Array]"!==Object.prototype.toString.call(e))throw TypeError("Illegal buffer");r=new o(e.length,n,i),r.limit=e.length;for(var s=0;s<e.length;++s)r.view[s]=e[s]}return r},a.writeBitSet=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if(!(e instanceof Array))throw TypeError("Illegal BitSet: Not an array");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,r=t,o=e.length,a=o>>3,s=0;for(t+=this.writeVarint32(o,t);a--;)i=1&!!e[s++]|(1&!!e[s++])<<1|(1&!!e[s++])<<2|(1&!!e[s++])<<3|(1&!!e[s++])<<4|(1&!!e[s++])<<5|(1&!!e[s++])<<6|(1&!!e[s++])<<7,this.writeByte(i,t++);if(o>s){var f=0;for(i=0;o>s;)i|=(1&!!e[s++])<<f++;this.writeByte(i,t++)}return n?(this.offset=t,this):t-r},a.readBitSet=function(e){var t="undefined"==typeof e;t&&(e=this.offset);var n,i=this.readVarint32(e),r=i.value,o=r>>3,a=0,s=[];for(e+=i.length;o--;)n=this.readByte(e++),s[a++]=!!(1&n),s[a++]=!!(2&n),s[a++]=!!(4&n),s[a++]=!!(8&n),s[a++]=!!(16&n),s[a++]=!!(32&n),s[a++]=!!(64&n),s[a++]=!!(128&n);if(r>a){var f=0;for(n=this.readByte(e++);r>a;)s[a++]=!!(n>>f++&1)}return t&&(this.offset=e),s},a.readBytes=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+"+e+") <= "+this.buffer.byteLength)}var i=this.slice(t,t+e);return n&&(this.offset+=e),i},a.writeBytes=a.append,a.writeInt8=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},a.writeByte=a.writeInt8,a.readInt8=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return 128===(128&n)&&(n=-(255-n+1)),t&&(this.offset+=1),n},a.readByte=a.readInt8,a.writeUint8=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=1;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=1,this.view[t]=e,n&&(this.offset+=1),this},a.writeUInt8=a.writeUint8,a.readUint8=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=this.view[e];return t&&(this.offset+=1),n},a.readUInt8=a.readUint8,a.writeInt16=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},a.writeShort=a.writeInt16,a.readInt16=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),32768===(32768&n)&&(n=-(65535-n+1)),t&&(this.offset+=2),n},a.readShort=a.readInt16,a.writeUint16=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=2;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=2,this.littleEndian?(this.view[t+1]=(65280&e)>>>8,this.view[t]=255&e):(this.view[t]=(65280&e)>>>8,this.view[t+1]=255&e),n&&(this.offset+=2),this},a.writeUInt16=a.writeUint16,a.readUint16=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+2) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e],n|=this.view[e+1]<<8):(n=this.view[e]<<8,n|=this.view[e+1]),t&&(this.offset+=2),n},a.readUInt16=a.readUint16,a.writeInt32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},a.writeInt=a.writeInt32,a.readInt32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),n|=0,t&&(this.offset+=4),n},a.readInt=a.readInt32,a.writeUint32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,this.littleEndian?(this.view[t+3]=e>>>24&255,this.view[t+2]=e>>>16&255,this.view[t+1]=e>>>8&255,this.view[t]=255&e):(this.view[t]=e>>>24&255,this.view[t+1]=e>>>16&255,this.view[t+2]=e>>>8&255,this.view[t+3]=255&e),n&&(this.offset+=4),this},a.writeUInt32=a.writeUint32,a.readUint32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=0;return this.littleEndian?(n=this.view[e+2]<<16,n|=this.view[e+1]<<8,n|=this.view[e],n+=this.view[e+3]<<24>>>0):(n=this.view[e+1]<<16,n|=this.view[e+2]<<8,n|=this.view[e+3],n+=this.view[e]<<24>>>0),t&&(this.offset+=4),n},a.readUInt32=a.readUint32,e&&(a.writeInt64=function(t,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var r=this.buffer.byteLength;n>r&&this.resize((r*=2)>n?r:n),n-=8;var o=t.low,a=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a):(this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),i&&(this.offset+=8),this},a.writeLong=a.writeInt64,a.readInt64=function(t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,r=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var o=new e(i,r,!1);return n&&(this.offset+=8),o},a.readLong=a.readInt64,a.writeUint64=function(t,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t)),n+=8;var r=this.buffer.byteLength;n>r&&this.resize((r*=2)>n?r:n),n-=8;var o=t.low,a=t.high;return this.littleEndian?(this.view[n+3]=o>>>24&255,this.view[n+2]=o>>>16&255,this.view[n+1]=o>>>8&255,this.view[n]=255&o,n+=4,this.view[n+3]=a>>>24&255,this.view[n+2]=a>>>16&255,this.view[n+1]=a>>>8&255,this.view[n]=255&a):(this.view[n]=a>>>24&255,this.view[n+1]=a>>>16&255,this.view[n+2]=a>>>8&255,this.view[n+3]=255&a,n+=4,this.view[n]=o>>>24&255,this.view[n+1]=o>>>16&255,this.view[n+2]=o>>>8&255,this.view[n+3]=255&o),i&&(this.offset+=8),this},a.writeUInt64=a.writeUint64,a.readUint64=function(t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+8) <= "+this.buffer.byteLength)}var i=0,r=0;this.littleEndian?(i=this.view[t+2]<<16,i|=this.view[t+1]<<8,i|=this.view[t],i+=this.view[t+3]<<24>>>0,t+=4,r=this.view[t+2]<<16,r|=this.view[t+1]<<8,r|=this.view[t],r+=this.view[t+3]<<24>>>0):(r=this.view[t+1]<<16,r|=this.view[t+2]<<8,r|=this.view[t+3],r+=this.view[t]<<24>>>0,t+=4,i=this.view[t+1]<<16,i|=this.view[t+2]<<8,i|=this.view[t+3],i+=this.view[t]<<24>>>0);var o=new e(i,r,!0);return n&&(this.offset+=8),o},a.readUInt64=a.readUint64),a.writeFloat32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=4;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=4,r(this.view,e,t,this.littleEndian,23,4),n&&(this.offset+=4),this},a.writeFloat=a.writeFloat32,a.readFloat32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=i(this.view,e,this.littleEndian,23,4);return t&&(this.offset+=4),n},a.readFloat=a.readFloat32,a.writeFloat64=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e)throw TypeError("Illegal value: "+e+" (not a number)");if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}t+=8;var i=this.buffer.byteLength;return t>i&&this.resize((i*=2)>t?i:t),t-=8,r(this.view,e,t,this.littleEndian,52,8),n&&(this.offset+=8),this},a.writeDouble=a.writeFloat64,a.readFloat64=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+8) <= "+this.buffer.byteLength)}var n=i(this.view,e,this.littleEndian,52,8);return t&&(this.offset+=8),n},a.readDouble=a.readFloat64,o.MAX_VARINT32_BYTES=5,o.calculateVarint32=function(e){return e>>>=0,128>e?1:16384>e?2:1<<21>e?3:1<<28>e?4:5},o.zigZagEncode32=function(e){return((e|=0)<<1^e>>31)>>>0},o.zigZagDecode32=function(e){return e>>>1^-(1&e)|0},a.writeVarint32=function(e,t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+0) <= "+this.buffer.byteLength)}var i,r=o.calculateVarint32(e);t+=r;var a=this.buffer.byteLength;for(t>a&&this.resize((a*=2)>t?a:t),t-=r,e>>>=0;e>=128;)i=127&e|128,this.view[t++]=i,e>>>=7;return this.view[t++]=e,n?(this.offset=t,this):r},a.writeVarint32ZigZag=function(e,t){return this.writeVarint32(o.zigZagEncode32(e),t)},a.readVarint32=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n,i=0,r=0;do{if(!this.noAssert&&e>this.limit){var o=Error("Truncated");throw o.truncated=!0,o}n=this.view[e++],5>i&&(r|=(127&n)<<7*i),++i}while(0!==(128&n));return r|=0,t?(this.offset=e,r):{value:r,length:i}},a.readVarint32ZigZag=function(e){var t=this.readVarint32(e);return"object"==typeof t?t.value=o.zigZagDecode32(t.value):t=o.zigZagDecode32(t),t},e&&(o.MAX_VARINT64_BYTES=10,o.calculateVarint64=function(t){"number"==typeof t?t=e.fromNumber(t):"string"==typeof t&&(t=e.fromString(t));var n=t.toInt()>>>0,i=t.shiftRightUnsigned(28).toInt()>>>0,r=t.shiftRightUnsigned(56).toInt()>>>0;return 0==r?0==i?16384>n?128>n?1:2:1<<21>n?3:4:16384>i?128>i?5:6:1<<21>i?7:8:128>r?9:10},o.zigZagEncode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftLeft(1).xor(t.shiftRight(63)).toUnsigned()},o.zigZagDecode64=function(t){return"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned()),t.shiftRightUnsigned(1).xor(t.and(e.ONE).toSigned().negate()).toSigned()},a.writeVarint64=function(t,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"==typeof t)t=e.fromNumber(t);else if("string"==typeof t)t=e.fromString(t);else if(!(t&&t instanceof e))throw TypeError("Illegal value: "+t+" (not an integer or Long)");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}"number"==typeof t?t=e.fromNumber(t,!1):"string"==typeof t?t=e.fromString(t,!1):t.unsigned!==!1&&(t=t.toSigned());var r=o.calculateVarint64(t),a=t.toInt()>>>0,s=t.shiftRightUnsigned(28).toInt()>>>0,f=t.shiftRightUnsigned(56).toInt()>>>0;n+=r;var l=this.buffer.byteLength;switch(n>l&&this.resize((l*=2)>n?l:n),n-=r,r){case 10:this.view[n+9]=f>>>7&1;case 9:this.view[n+8]=9!==r?128|f:127&f;case 8:this.view[n+7]=8!==r?s>>>21|128:s>>>21&127;case 7:this.view[n+6]=7!==r?s>>>14|128:s>>>14&127;case 6:this.view[n+5]=6!==r?s>>>7|128:s>>>7&127;case 5:this.view[n+4]=5!==r?128|s:127&s;case 4:this.view[n+3]=4!==r?a>>>21|128:a>>>21&127;case 3:this.view[n+2]=3!==r?a>>>14|128:a>>>14&127;case 2:this.view[n+1]=2!==r?a>>>7|128:a>>>7&127;case 1:this.view[n]=1!==r?128|a:127&a}return i?(this.offset+=r,this):r},a.writeVarint64ZigZag=function(e,t){return this.writeVarint64(o.zigZagEncode64(e),t)},a.readVarint64=function(t){var n="undefined"==typeof t;if(n&&(t=this.offset),!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: "+t+" (not an integer)");if(t>>>=0,0>t||t+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+t+" (+1) <= "+this.buffer.byteLength)}var i=t,r=0,o=0,a=0,s=0;if(s=this.view[t++],r=127&s,128&s&&(s=this.view[t++],r|=(127&s)<<7,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],r|=(127&s)<<14,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],r|=(127&s)<<21,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],o=127&s,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],o|=(127&s)<<7,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],o|=(127&s)<<14,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],o|=(127&s)<<21,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],a=127&s,(128&s||this.noAssert&&"undefined"==typeof s)&&(s=this.view[t++],a|=(127&s)<<7,128&s||this.noAssert&&"undefined"==typeof s))))))))))throw Error("Buffer overrun");var f=e.fromBits(r|o<<28,o>>>4|a<<24,!1);return n?(this.offset=t,f):{value:f,length:t-i}},a.readVarint64ZigZag=function(t){var n=this.readVarint64(t);return n&&n.value instanceof e?n.value=o.zigZagDecode64(n.value):n=o.zigZagDecode64(n),n}),a.writeCString=function(e,n){var i="undefined"==typeof n;i&&(n=this.offset);var r,o=e.length;if(!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");for(r=0;o>r;++r)if(0===e.charCodeAt(r))throw RangeError("Illegal str: Contains NULL-characters");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}o=u.calculateUTF16asUTF8(t(e))[1],n+=o+1;var a=this.buffer.byteLength;return n>a&&this.resize((a*=2)>n?a:n),n-=o+1,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),this.view[n++]=0,i?(this.offset=n,this):o},a.readCString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var i,r=e,o=-1;return u.decodeUTF8toUTF16(function(){if(0===o)return null;if(e>=this.limit)throw RangeError("Illegal range: Truncated data, "+e+" < "+this.limit);return o=this.view[e++],0===o?null:o}.bind(this),i=n(),!0),t?(this.offset=e,i()):{string:i(),length:e-r}},a.writeIString=function(e,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,o=n;r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],n+=4+r;var a=this.buffer.byteLength;if(n>a&&this.resize((a*=2)>n?a:n),n-=4+r,this.littleEndian?(this.view[n+3]=r>>>24&255,this.view[n+2]=r>>>16&255,this.view[n+1]=r>>>8&255,this.view[n]=255&r):(this.view[n]=r>>>24&255,this.view[n+1]=r>>>16&255,this.view[n+2]=r>>>8&255,this.view[n+3]=255&r),n+=4,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==o+4+r)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+4+r));return i?(this.offset=n,this):n-o},a.readIString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+4) <= "+this.buffer.byteLength)}var n=e,i=this.readUint32(e),r=this.readUTF8String(i,o.METRICS_BYTES,e+=4);return e+=r.length,t?(this.offset=e,r.string):{string:r.string,length:e-n}},o.METRICS_CHARS="c",o.METRICS_BYTES="b",a.writeUTF8String=function(e,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,o=n;r=u.calculateUTF16asUTF8(t(e))[1],n+=r;var a=this.buffer.byteLength;return n>a&&this.resize((a*=2)>n?a:n),n-=r,u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),i?(this.offset=n,this):n-o},a.writeString=a.writeUTF8String,o.calculateUTF8Chars=function(e){return u.calculateUTF16asUTF8(t(e))[0]},o.calculateUTF8Bytes=function(e){return u.calculateUTF16asUTF8(t(e))[1]},o.calculateString=o.calculateUTF8Bytes,a.readUTF8String=function(e,t,i){"number"==typeof t&&(i=t,t=void 0);var r="undefined"==typeof i;if(r&&(i=this.offset),"undefined"==typeof t&&(t=o.METRICS_CHARS),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");if(e|=0,"number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+0) <= "+this.buffer.byteLength)}var a,s=0,f=i;if(t===o.METRICS_CHARS){if(a=n(),u.decodeUTF8(function(){return e>s&&i<this.limit?this.view[i++]:null}.bind(this),function(e){++s,u.UTF8toUTF16(e,a)}),s!==e)throw RangeError("Illegal range: Truncated data, "+s+" == "+e);return r?(this.offset=i,a()):{string:a(),length:i-f}}if(t===o.METRICS_BYTES){if(!this.noAssert){if("number"!=typeof i||i%1!==0)throw TypeError("Illegal offset: "+i+" (not an integer)");if(i>>>=0,0>i||i+e>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+i+" (+"+e+") <= "+this.buffer.byteLength)}var l=i+e;if(u.decodeUTF8toUTF16(function(){return l>i?this.view[i++]:null}.bind(this),a=n(),this.noAssert),i!==l)throw RangeError("Illegal range: Truncated data, "+i+" == "+l);return r?(this.offset=i,a()):{string:a(),length:i-f}}throw TypeError("Unsupported metrics: "+t)},a.readString=a.readUTF8String,a.writeVString=function(e,n){var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}var r,a,s=n;r=u.calculateUTF16asUTF8(t(e),this.noAssert)[1],a=o.calculateVarint32(r),n+=a+r;var f=this.buffer.byteLength;if(n>f&&this.resize((f*=2)>n?f:n),n-=a+r,n+=this.writeVarint32(r,n),u.encodeUTF16toUTF8(t(e),function(e){this.view[n++]=e}.bind(this)),n!==s+r+a)throw RangeError("Illegal range: Truncated data, "+n+" == "+(n+r+a));return i?(this.offset=n,this):n-s},a.readVString=function(e){var t="undefined"==typeof e;if(t&&(e=this.offset),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+1) <= "+this.buffer.byteLength)}var n=e,i=this.readVarint32(e),r=this.readUTF8String(i.value,o.METRICS_BYTES,e+=i.length);return e+=r.length,t?(this.offset=e,r.string):{string:r.string,length:e-n}},a.append=function(e,t,n){"number"!=typeof t&&"string"==typeof t||(n=t,t=void 0);var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var r=e.limit-e.offset;if(0>=r)return this;n+=r;var a=this.buffer.byteLength;return n>a&&this.resize((a*=2)>n?a:n),n-=r,this.view.set(e.view.subarray(e.offset,e.limit),n),e.offset+=r,i&&(this.offset+=r),this},a.appendTo=function(e,t){return e.append(this,t),this},a.assert=function(e){return this.noAssert=!e,this},a.capacity=function(){return this.buffer.byteLength},a.clear=function(){return this.offset=0,this.limit=this.buffer.byteLength,this.markedOffset=-1,this},a.clone=function(e){var t=new o(0,this.littleEndian,this.noAssert);return e?(t.buffer=new ArrayBuffer(this.buffer.byteLength),t.view=new Uint8Array(t.buffer)):(t.buffer=this.buffer,t.view=this.view),t.offset=this.offset,t.markedOffset=this.markedOffset,t.limit=this.limit,t},a.compact=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(0===e&&t===this.buffer.byteLength)return this;var n=t-e;if(0===n)return this.buffer=s,this.view=null,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=0,this;var i=new ArrayBuffer(n),r=new Uint8Array(i);return r.set(this.view.subarray(e,t)),this.buffer=i,this.view=r,this.markedOffset>=0&&(this.markedOffset-=e),this.offset=0,this.limit=n,this},a.copy=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}if(e===t)return new o(0,this.littleEndian,this.noAssert);var n=t-e,i=new o(n,this.littleEndian,this.noAssert);return i.offset=0,i.limit=n,i.markedOffset>=0&&(i.markedOffset-=e),this.copyTo(i,0,e,t),i},a.copyTo=function(e,t,n,i){var r,a;if(!this.noAssert&&!o.isByteBuffer(e))throw TypeError("Illegal target: Not a ByteBuffer");if(t=(a="undefined"==typeof t)?e.offset:0|t,n=(r="undefined"==typeof n)?this.offset:0|n,i="undefined"==typeof i?this.limit:0|i,0>t||t>e.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+t+" <= "+e.buffer.byteLength);if(0>n||i>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+n+" <= "+this.buffer.byteLength);var s=i-n;return 0===s?e:(e.ensureCapacity(t+s),e.view.set(this.view.subarray(n,i),t),r&&(this.offset+=s),a&&(e.offset+=s),this)},a.ensureCapacity=function(e){var t=this.buffer.byteLength;return e>t?this.resize((t*=2)>e?t:e):this},a.fill=function(e,t,n){var i="undefined"==typeof t;if(i&&(t=this.offset),"string"==typeof e&&e.length>0&&(e=e.charCodeAt(0)),"undefined"==typeof t&&(t=this.offset),"undefined"==typeof n&&(n=this.limit),
!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal value: "+e+" (not an integer)");if(e|=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal begin: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!==0)throw TypeError("Illegal end: Not an integer");if(n>>>=0,0>t||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(t>=n)return this;for(;n>t;)this.view[t++]=e;return i&&(this.offset=t),this},a.flip=function(){return this.limit=this.offset,this.offset=0,this},a.mark=function(e){if(e="undefined"==typeof e?this.offset:e,!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal offset: "+e+" (not an integer)");if(e>>>=0,0>e||e+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+e+" (+0) <= "+this.buffer.byteLength)}return this.markedOffset=e,this},a.order=function(e){if(!this.noAssert&&"boolean"!=typeof e)throw TypeError("Illegal littleEndian: Not a boolean");return this.littleEndian=!!e,this},a.LE=function(e){return this.littleEndian="undefined"!=typeof e?!!e:!0,this},a.BE=function(e){return this.littleEndian="undefined"!=typeof e?!e:!1,this},a.prepend=function(e,t,n){"number"!=typeof t&&"string"==typeof t||(n=t,t=void 0);var i="undefined"==typeof n;if(i&&(n=this.offset),!this.noAssert){if("number"!=typeof n||n%1!==0)throw TypeError("Illegal offset: "+n+" (not an integer)");if(n>>>=0,0>n||n+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+n+" (+0) <= "+this.buffer.byteLength)}e instanceof o||(e=o.wrap(e,t));var r=e.limit-e.offset;if(0>=r)return this;var a=r-n;if(a>0){var s=new ArrayBuffer(this.buffer.byteLength+a),f=new Uint8Array(s);f.set(this.view.subarray(n,this.buffer.byteLength),r),this.buffer=s,this.view=f,this.offset+=a,this.markedOffset>=0&&(this.markedOffset+=a),this.limit+=a,n+=a}else{new Uint8Array(this.buffer)}return this.view.set(e.view.subarray(e.offset,e.limit),n-r),e.offset=e.limit,i&&(this.offset-=r),this},a.prependTo=function(e,t){return e.prepend(this,t),this},a.printDebug=function(e){"function"!=typeof e&&(e=console.log.bind(console)),e(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))},a.remaining=function(){return this.limit-this.offset},a.reset=function(){return this.markedOffset>=0?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0,this},a.resize=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal capacity: "+e+" (not an integer)");if(e|=0,0>e)throw RangeError("Illegal capacity: 0 <= "+e)}if(this.buffer.byteLength<e){var t=new ArrayBuffer(e),n=new Uint8Array(t);n.set(this.view),this.buffer=t,this.view=n}return this},a.reverse=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}return e===t?this:(Array.prototype.reverse.call(this.view.subarray(e,t)),this)},a.skip=function(e){if(!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal length: "+e+" (not an integer)");e|=0}var t=this.offset+e;if(!this.noAssert&&(0>t||t>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+this.offset+" + "+e+" <= "+this.buffer.byteLength);return this.offset=t,this},a.slice=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var n=this.clone();return n.offset=e,n.limit=t,n},a.toBuffer=function(e){var t=this.offset,n=this.limit;if(!this.noAssert){if("number"!=typeof t||t%1!==0)throw TypeError("Illegal offset: Not an integer");if(t>>>=0,"number"!=typeof n||n%1!==0)throw TypeError("Illegal limit: Not an integer");if(n>>>=0,0>t||t>n||n>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+t+" <= "+n+" <= "+this.buffer.byteLength)}if(!e&&0===t&&n===this.buffer.byteLength)return this.buffer;if(t===n)return s;var i=new ArrayBuffer(n-t);return new Uint8Array(i).set(new Uint8Array(this.buffer).subarray(t,n),0),i},a.toArrayBuffer=a.toBuffer,a.toString=function(e,t,n){if("undefined"==typeof e)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";switch("number"==typeof e&&(e="utf8",t=e,n=t),e){case"utf8":return this.toUTF8(t,n);case"base64":return this.toBase64(t,n);case"hex":return this.toHex(t,n);case"binary":return this.toBinary(t,n);case"debug":return this.toDebug();case"columns":return this.toColumns();default:throw Error("Unsupported encoding: "+e)}};var l=function(){for(var e={},t=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],n=[],i=0,r=t.length;r>i;++i)n[t[i]]=i;return e.encode=function(e,n){for(var i,r;null!==(i=e());)n(t[i>>2&63]),r=(3&i)<<4,null!==(i=e())?(r|=i>>4&15,n(t[63&(r|i>>4&15)]),r=(15&i)<<2,null!==(i=e())?(n(t[63&(r|i>>6&3)]),n(t[63&i])):(n(t[63&r]),n(61))):(n(t[63&r]),n(61),n(61))},e.decode=function(e,t){function i(e){throw Error("Illegal character code: "+e)}for(var r,o,a;null!==(r=e());)if(o=n[r],"undefined"==typeof o&&i(r),null!==(r=e())&&(a=n[r],"undefined"==typeof a&&i(r),t(o<<2>>>0|(48&a)>>4),null!==(r=e()))){if(o=n[r],"undefined"==typeof o){if(61===r)break;i(r)}if(t((15&a)<<4>>>0|(60&o)>>2),null!==(r=e())){if(a=n[r],"undefined"==typeof a){if(61===r)break;i(r)}t((3&o)<<6>>>0|a)}}},e.test=function(e){return/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e)},e}();a.toBase64=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),e=0|e,t=0|t,0>e||t>this.capacity||e>t)throw RangeError("begin, end");var i;return l.encode(function(){return t>e?this.view[e++]:null}.bind(this),i=n()),i()},o.fromBase64=function(e,n){if("string"!=typeof e)throw TypeError("str");var i=new o(e.length/4*3,n),r=0;return l.decode(t(e),function(e){i.view[r++]=e}),i.limit=r,i},o.btoa=function(e){return o.fromBinary(e).toBase64()},o.atob=function(e){return o.fromBase64(e).toBinary()},a.toBinary=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),e|=0,t|=0,0>e||t>this.capacity()||e>t)throw RangeError("begin, end");if(e===t)return"";for(var n=[],i=[];t>e;)n.push(this.view[e++]),n.length>=1024&&(i.push(String.fromCharCode.apply(String,n)),n=[]);return i.join("")+String.fromCharCode.apply(String,n)},o.fromBinary=function(e,t){if("string"!=typeof e)throw TypeError("str");for(var n,i=0,r=e.length,a=new o(r,t);r>i;){if(n=e.charCodeAt(i),n>255)throw RangeError("illegal char code: "+n);a.view[i++]=n}return a.limit=r,a},a.toDebug=function(e){for(var t,n=-1,i=this.buffer.byteLength,r="",o="",a="";i>n;){if(-1!==n&&(t=this.view[n],r+=16>t?"0"+t.toString(16).toUpperCase():t.toString(16).toUpperCase(),e&&(o+=t>32&&127>t?String.fromCharCode(t):".")),++n,e&&n>0&&n%16===0&&n!==i){for(;r.length<51;)r+=" ";a+=r+o+"\n",r=o=""}r+=n===this.offset&&n===this.limit?n===this.markedOffset?"!":"|":n===this.offset?n===this.markedOffset?"[":"<":n===this.limit?n===this.markedOffset?"]":">":n===this.markedOffset?"'":e||0!==n&&n!==i?" ":""}if(e&&" "!==r){for(;r.length<51;)r+=" ";a+=r+o+"\n"}return e?a:r},o.fromDebug=function(e,t,n){for(var i,r,a=e.length,s=new o((a+1)/3|0,t,n),f=0,l=0,u=!1,h=!1,d=!1,p=!1,c=!1;a>f;){switch(i=e.charAt(f++)){case"!":if(!n){if(h||d||p){c=!0;break}h=d=p=!0}s.offset=s.markedOffset=s.limit=l,u=!1;break;case"|":if(!n){if(h||p){c=!0;break}h=p=!0}s.offset=s.limit=l,u=!1;break;case"[":if(!n){if(h||d){c=!0;break}h=d=!0}s.offset=s.markedOffset=l,u=!1;break;case"<":if(!n){if(h){c=!0;break}h=!0}s.offset=l,u=!1;break;case"]":if(!n){if(p||d){c=!0;break}p=d=!0}s.limit=s.markedOffset=l,u=!1;break;case">":if(!n){if(p){c=!0;break}p=!0}s.limit=l,u=!1;break;case"'":if(!n){if(d){c=!0;break}d=!0}s.markedOffset=l,u=!1;break;case" ":u=!1;break;default:if(!n&&u){c=!0;break}if(r=parseInt(i+e.charAt(f++),16),!n&&(isNaN(r)||0>r||r>255))throw TypeError("Illegal str: Not a debug encoded string");s.view[l++]=r,u=!0}if(c)throw TypeError("Illegal str: Invalid symbol at "+f)}if(!n){if(!h||!p)throw TypeError("Illegal str: Missing offset or limit");if(l<s.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+l+" < "+a)}return s},a.toHex=function(e,t){if(e="undefined"==typeof e?this.offset:e,t="undefined"==typeof t?this.limit:t,!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}for(var n,i=new Array(t-e);t>e;)n=this.view[e++],16>n?i.push("0",n.toString(16)):i.push(n.toString(16));return i.join("")},o.fromHex=function(e,t,n){if(!n){if("string"!=typeof e)throw TypeError("Illegal str: Not a string");if(e.length%2!==0)throw TypeError("Illegal str: Length not a multiple of 2")}for(var i,r=e.length,a=new o(r/2|0,t),s=0,f=0;r>s;s+=2){if(i=parseInt(e.substring(s,s+2),16),!n&&(!isFinite(i)||0>i||i>255))throw TypeError("Illegal str: Contains non-hex characters");a.view[f++]=i}return a.limit=f,a};var u=function(){var e={};return e.MAX_CODEPOINT=1114111,e.encodeUTF8=function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)128>n?t(127&n):2048>n?(t(n>>6&31|192),t(63&n|128)):65536>n?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null},e.decodeUTF8=function(e,t){for(var n,i,r,o,a=function(e){e=e.slice(0,e.indexOf(null));var t=Error(e.toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(n=e());)if(0===(128&n))t(n);else if(192===(224&n))null===(i=e())&&a([n,i]),t((31&n)<<6|63&i);else if(224===(240&n))(null===(i=e())||null===(r=e()))&&a([n,i,r]),t((15&n)<<12|(63&i)<<6|63&r);else{if(240!==(248&n))throw RangeError("Illegal starting byte: "+n);(null===(i=e())||null===(r=e())||null===(o=e()))&&a([n,i,r,o]),t((7&n)<<18|(63&i)<<12|(63&r)<<6|63&o)}},e.UTF16toUTF8=function(e,t){for(var n,i=null;;){if(null===(n=null!==i?i:e()))break;n>=55296&&57343>=n&&null!==(i=e())&&i>=56320&&57343>=i?(t(1024*(n-55296)+i-56320+65536),i=null):t(n)}null!==i&&t(i)},e.UTF8toUTF16=function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)65535>=n?t(n):(n-=65536,t((n>>10)+55296),t(n%1024+56320)),n=null},e.encodeUTF16toUTF8=function(t,n){e.UTF16toUTF8(t,function(t){e.encodeUTF8(t,n)})},e.decodeUTF8toUTF16=function(t,n){e.decodeUTF8(t,function(t){e.UTF8toUTF16(t,n)})},e.calculateCodePoint=function(e){return 128>e?1:2048>e?2:65536>e?3:4},e.calculateUTF8=function(e){for(var t,n=0;null!==(t=e());)n+=128>t?1:2048>t?2:65536>t?3:4;return n},e.calculateUTF16asUTF8=function(t){var n=0,i=0;return e.UTF16toUTF8(t,function(e){++n,i+=128>e?1:2048>e?2:65536>e?3:4}),[n,i]},e}();return a.toUTF8=function(e,t){if("undefined"==typeof e&&(e=this.offset),"undefined"==typeof t&&(t=this.limit),!this.noAssert){if("number"!=typeof e||e%1!==0)throw TypeError("Illegal begin: Not an integer");if(e>>>=0,"number"!=typeof t||t%1!==0)throw TypeError("Illegal end: Not an integer");if(t>>>=0,0>e||e>t||t>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+e+" <= "+t+" <= "+this.buffer.byteLength)}var i;try{u.decodeUTF8toUTF16(function(){return t>e?this.view[e++]:null}.bind(this),i=n())}catch(r){if(e!==t)throw RangeError("Illegal range: Truncated data, "+e+" != "+t)}return i()},o.fromUTF8=function(e,n,i){if(!i&&"string"!=typeof e)throw TypeError("Illegal str: Not a string");var r=new o(u.calculateUTF16asUTF8(t(e),!0)[1],n,i),a=0;return u.encodeUTF16toUTF8(t(e),function(e){r.view[a++]=e}),r.limit=a,r},o})}).call(t,n(13)(e))},function(e,t,n){var i,r,o;(function(e){/**
	 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/long.js for details
	 */
!function(a,s){n(12).amd?(r=[],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))):"object"==typeof e&&e&&e.exports?e.exports=s():(a.dcodeIO=a.dcodeIO||{}).Long=s()}(this,function(){"use strict";function e(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function t(e){return(e&&e.__isLong__)===!0}function n(e,t){var n,i,o;return t?(e>>>=0,(o=e>=0&&256>e)&&(i=f[e])?i:(n=r(e,0>(0|e)?-1:0,!0),o&&(f[e]=n),n)):(e|=0,(o=e>=-128&&128>e)&&(i=s[e])?i:(n=r(e,0>e?-1:0,!1),o&&(s[e]=n),n))}function i(e,t){if(isNaN(e)||!isFinite(e))return t?m:g;if(t){if(0>e)return m;if(e>=d)return b}else{if(-p>=e)return E;if(e+1>=p)return w}return 0>e?i(-e,t).neg():r(e%h|0,e/h|0,t)}function r(t,n,i){return new e(t,n,i)}function o(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t&&(n=t,t=!1),n=n||10,2>n||n>36)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return o(e.substring(1),t,n).neg();for(var a=i(l(n,8)),s=g,f=0;f<e.length;f+=8){var u=Math.min(8,e.length-f),h=parseInt(e.substring(f,f+u),n);if(8>u){var d=i(l(n,u));s=s.mul(d).add(i(h))}else s=s.mul(a),s=s.add(i(h))}return s.unsigned=t,s}function a(t){return t instanceof e?t:"number"==typeof t?i(t):"string"==typeof t?o(t):r(t.low,t.high,t.unsigned)}e.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),e.isLong=t;var s={},f={};e.fromInt=n,e.fromNumber=i,e.fromBits=r;var l=Math.pow;e.fromString=o,e.fromValue=a;var u=1<<24,h=4294967296,d=0x10000000000000000,p=d/2,c=n(u),g=n(0);e.ZERO=g;var m=n(0,!0);e.UZERO=m;var y=n(1);e.ONE=y;var v=n(1,!0);e.UONE=v;var _=n(-1);e.NEG_ONE=_;var w=r(-1,2147483647,!1);e.MAX_VALUE=w;var b=r(-1,-1,!0);e.MAX_UNSIGNED_VALUE=b;var E=r(0,-2147483648,!1);e.MIN_VALUE=E;var T=e.prototype;return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if(e=e||10,2>e||e>36)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=i(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=i(l(e,6),this.unsigned),a=this,s="";;){var f=a.div(o),u=a.sub(f.mul(o)).toInt()>>>0,h=u.toString(e);if(a=f,a.isZero())return h+s;for(;h.length<6;)h="0"+h;s=""+h+s}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(e){return t(e)||(e=a(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.compare=function(e){if(t(e)||(e=a(e)),this.eq(e))return 0;var n=this.isNegative(),i=e.isNegative();return n&&!i?-1:!n&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(y)},T.neg=T.negate,T.add=function(e){t(e)||(e=a(e));var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,s=65535&this.low,f=e.high>>>16,l=65535&e.high,u=e.low>>>16,h=65535&e.low,d=0,p=0,c=0,g=0;return g+=s+h,c+=g>>>16,g&=65535,c+=o+u,p+=c>>>16,c&=65535,p+=i+l,d+=p>>>16,p&=65535,d+=n+f,d&=65535,r(c<<16|g,d<<16|p,this.unsigned)},T.subtract=function(e){return t(e)||(e=a(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return g;if(t(e)||(e=a(e)),e.isZero())return g;if(this.eq(E))return e.isOdd()?E:g;if(e.eq(E))return this.isOdd()?E:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(c)&&e.lt(c))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,s=this.low>>>16,f=65535&this.low,l=e.high>>>16,u=65535&e.high,h=e.low>>>16,d=65535&e.low,p=0,m=0,y=0,v=0;return v+=f*d,y+=v>>>16,v&=65535,y+=s*d,m+=y>>>16,y&=65535,y+=f*h,m+=y>>>16,y&=65535,m+=o*d,p+=m>>>16,m&=65535,m+=s*h,p+=m>>>16,m&=65535,m+=f*u,p+=m>>>16,m&=65535,p+=n*d+o*h+s*u+f*l,p&=65535,r(y<<16|v,p<<16|m,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(t(e)||(e=a(e)),e.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?m:g;var n,r,o;if(this.eq(E)){if(e.eq(y)||e.eq(_))return E;if(e.eq(E))return y;var s=this.shr(1);return n=s.div(e).shl(1),n.eq(g)?e.isNegative()?y:_:(r=this.sub(e.mul(n)),o=n.add(r.div(e)))}if(e.eq(E))return this.unsigned?m:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();for(o=g,r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var f=Math.ceil(Math.log(n)/Math.LN2),u=48>=f?1:l(2,f-48),h=i(n),d=h.mul(e);d.isNegative()||d.gt(r);)n-=u,h=i(n,this.unsigned),d=h.mul(e);h.isZero()&&(h=y),o=o.add(h),r=r.sub(d)}return o},T.div=T.divide,T.modulo=function(e){return t(e)||(e=a(e)),this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.not=function(){return r(~this.low,~this.high,this.unsigned)},T.and=function(e){return t(e)||(e=a(e)),r(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return t(e)||(e=a(e)),r(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return t(e)||(e=a(e)),r(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?r(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):r(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return t(e)&&(e=e.toInt()),0===(e&=63)?this:32>e?r(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):r(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(t(e)&&(e=e.toInt()),e&=63,0===e)return this;var n=this.high;if(32>e){var i=this.low;return r(i>>>e|n<<32-e,n>>>e,this.unsigned)}return 32===e?r(n,0,this.unsigned):r(n>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?r(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:r(this.low,this.high,!0)},e})}).call(t,n(13)(e))},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(7),s=i(a),f=n(14),l=i(f),u=1e7,h=function(){return Math.ceil(1e4*Math.random())},d="page",p="lastEvent",c="referrerEvent",g="incrementId",m=function(){function e(t){(0,o["default"])(this,e),this.shared=new l["default"]("zap:SharedSession",window.localStorage,!0),this.storage=t||new l["default"]("zap:Session",window.sessionStorage),this.resetReferrer_()}return(0,s["default"])(e,[{key:"resetReferrer_",value:function(){var e=this.shared.get(p);if(e){this.storage.set(c,e);var t=this.storage.get(p);t||this.storage.set(p,e)}}},{key:"recordEvent",value:function(e){this.shared.set(p,e),this.storage.set(p,e)}},{key:"recordPage",value:function(e){this.storage.set(d,e),this.resetReferrer_()}},{key:"getLastEvent",value:function(){return this.storage.get(p)}},{key:"getReferrerEvent",value:function(){return this.storage.get(c)}},{key:"getCurrentIncrementId",value:function(){var e=Number(this.shared.get(g));return e||(e=h(),this.shared.set(g,e)),e}},{key:"getNextIncrementId",value:function(){var e=this.getCurrentIncrementId();return e>=u&&(e=h()),e+=1,this.shared.set(g,e),e}}]),e}();t["default"]=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=i(r),a=n(6),s=i(a),f=n(7),l=i(f),u=n(14),h=i(u),d=n(17),p=i(d),c=p["default"].ZaLogEntry,g=100,m=function(){function e(t){(0,s["default"])(this,e),this.storage=t||new h["default"]("zap:Stash",window.localStorage)}return(0,l["default"])(e,[{key:"stash",value:function(e){e=Array.isArray(e)?e:[e];var t=this.get();(0,o["default"])(t).length>g||(e.forEach(function(e){var n=e.getLocalIncrementId();n&&(t[n]=e.toBase64())}),this.storage.set("logEntries",t))}},{key:"unStash",value:function(e){e=Array.isArray(e)?e:[e];var t=this.get();e.forEach(function(e){var n=e.getLocalIncrementId();n&&delete t[n]}),this.storage.set("logEntries",t)}},{key:"get",value:function(){return this.storage.get("logEntries")||{}}},{key:"pop",value:function(){var e=this.get();return this.clear(),(0,o["default"])(e).reduce(function(t,n){return t.push(c.decode64(e[n])),t},[])}},{key:"clear",value:function(){this.storage.remove("logEntries")}}]),e}();t["default"]=m},function(e,t,n){(function(e){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){(0,c["default"])(B,e),e.userId&&(0,c["default"])(N.id,{user_id:e.userId}),e.responseId&&(0,c["default"])(N.id,{response_id:e.responseId}),e.product&&(0,c["default"])(N.client,{product:e.product})}function o(e,t){if(B.enableLog&&window.console){for(var n,i=arguments.length,r=Array(i>2?i-2:0),o=2;i>o;o++)r[o-2]=arguments[o];(n=console).info.apply(n,["%c[zap:%s]","color: green; font-size: 1.1em",e,t,t.toRaw()].concat(r))}}function a(e){return j?new DataView(e):e}function s(e){if(e&&(!Array.isArray(e)||e.length)){if(!B.logUrl)throw new Error("logUrl not found.");var t=new XMLHttpRequest;t.open("POST",B.logUrl),t.setRequestHeader("Content-Type","application/x-protobuf"),t.setRequestHeader("X-ZA-Log-Version",C);var n=e[0];n&&n.base&&n.base.client&&(t.setRequestHeader("X-ZA-Product",n.base.client.product),t.setRequestHeader("X-ZA-Platform",n.base.client.platform)),t.setRequestHeader("X-ZA-Batch-Size",e.length);var i=new U(e).toArrayBuffer();B.compress?(t.setRequestHeader("Content-Encoding","gzip"),t.send(a((0,g.gzip)(i).buffer))):t.send(a(i)),t.onload=function(){4===t.readyState&&t.status>=200&&t.status<300&&F.unStash(e)}}}function f(e){return{view:e,last_event:V.getLastEvent(),referrer_event:V.getReferrerEvent(),browser_referrer:document.referrer}}function l(e,t,n){return{log_version:C,log_type:e,local_increment_id:V.getNextIncrementId(),base:N,detail:t,extra:(0,c["default"])((0,T["default"])(),n)}}function u(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];e.url||(e.url=L["default"].href);var n=new O(l("PageShow",f(e),t)),i=F.pop();setTimeout(function(){return s(i)},500),D(n),V.recordPage(e),o("trackPageShow",n,e)}function h(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];e.url||(e.url=L["default"].href);var n=new O(l("CardShow",f(e),t));D(n),o("trackCardShow",n,e)}function d(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];e.url||(e.url=L["default"].href);var n=new O(l("Event",f(e),t));D(n),V.recordEvent(e),o("trackEvent",n,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=t.trackCardShow=t.trackPageShow=t.location=t.config=t.SUPPORTED=t.proto=void 0;var p=n(37),c=i(p),g=n(77),m=n(15),y=i(m),v=n(34),_=i(v),w=n(32),b=i(w),E=n(33),T=i(E),I=n(28),S=i(I),k=n(29),P=i(k),z=n(17),x=i(z),A=n(16),L=i(A),R=n(31),U=x["default"].ZaLogBatchEntry,O=x["default"].ZaLogEntry,N=(0,b["default"])(),B={userId:null,responseId:null,compress:!0,enableLog:!1,logUrl:""},C=x["default"].$options["(current_log_version)"],Y=500,M=R.canUseZa,V=new S["default"],F=new P["default"],j="DataView"in e&&!(y["default"].Android&&y["default"].UCBrowser),D=function(){var e=[],t=(0,_["default"])(Y,function(){e.length&&(s(e),e=[])});return function(n){e.push(n),F.stash(n),t()}}();t.proto=x["default"],t.SUPPORTED=M,t.config=r,t.location=L["default"],t.trackPageShow=u,t.trackCardShow=h,t.trackEvent=d}).call(t,function(){return this}())},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.canUseZa=navigator.cookieEnabled&&"DataView"in e&&"ArrayBuffer"in e&&"XMLHttpRequest"in e&&"withCredentials"in new XMLHttpRequest}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.split(".").slice(-2);return(t.length>1?".":"")+t.join(".")}function o(){var e=(0,u["default"])(_);if(!e){e=d["default"].v4();var t=63072e6,n=r(v["default"].hostname);(0,u["default"])(_,e,{maxage:t,domain:n})}return e}function a(){var e=new Date;return{client_timestamp:String(e.getTime()),client_timezone:e.toTimeString().slice(12,17)}}function s(){if(document.referrer){var e=(0,m["default"])(document.referrer),t=e.hostname;if(r(t)!==r(v["default"].hostname))return{source:"Web",view:{url:document.referrer}}}}function f(){return{id:{client_id:o(),experiment_id:""},client:{product:"",platform:c["default"].Mobile?"MobileWeb":"DesktopWeb",user_agent:c["default"].UA},time:a(),launch:s()}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=f;var l=n(72),u=i(l),h=n(86),d=i(h),p=n(15),c=i(p),g=n(35),m=i(g),y=n(16),v=i(y),_="_zap"},function(e,t){"use strict";function n(){return{screen:screen.width+"x"+screen.height}}function i(){return{device:n()}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){"use strict";function n(e,t){var n=null;return function(){clearTimeout(n),n=setTimeout(t.apply.bind(t,this,arguments),e)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){return r.href=e,i.reduce(function(e,t){return e[t]=r[t],e},{})}Object.defineProperty(t,"__esModule",{value:!0});var i=["protocol","host","hostname","port","pathname","search","hash","href"],r=document.createElement("a");t["default"]=n},function(e,t,n){e.exports={"default":n(41),__esModule:!0}},function(e,t,n){e.exports={"default":n(42),__esModule:!0}},function(e,t,n){e.exports={"default":n(43),__esModule:!0}},function(e,t,n){e.exports={"default":n(44),__esModule:!0}},function(e,t,n){e.exports={"default":n(45),__esModule:!0}},function(e,t,n){var i=n(1),r=i.JSON||(i.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,n){n(68),e.exports=n(1).Object.assign},function(e,t,n){n(69);var i=n(1).Object;e.exports=function(e,t){return i.defineProperties(e,t)}},function(e,t,n){n(70);var i=n(1).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){n(71),e.exports=n(1).Object.keys},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(22),r=n(65),o=n(64);e.exports=function(e){return function(t,n,a){var s,f=i(t),l=r(f.length),u=o(a,l);if(e&&n!=n){for(;l>u;)if(s=f[u++],s!=s)return!0}else for(;l>u;u++)if((e||u in f)&&f[u]===n)return e||u||0;return!e&&-1}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(46);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(9),r=n(8).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(10),r=n(61);e.exports=n(2)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(2)&&!n(4)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var i=n(11),r=n(57),o=n(59),a=n(23),s=n(20),f=Object.assign;e.exports=!f||n(4)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=f({},e)[n]||Object.keys(f({},t)).join("")!=i})?function(e,t){for(var n=a(e),f=arguments.length,l=1,u=r.f,h=o.f;f>l;)for(var d,p=s(arguments[l++]),c=u?i(p).concat(u(p)):i(p),g=c.length,m=0;g>m;)h.call(p,d=c[m++])&&(n[d]=p[d]);return n}:f},function(e,t,n){var i=n(10),r=n(18),o=n(11);e.exports=n(2)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,f=0;s>f;)i.f(e,n=a[f++],t[n]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(52),r=n(22),o=n(47)(!1),a=n(62)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),f=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;t.length>f;)i(s,n=t[f++])&&(~o(l,n)||l.push(n));return l}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(3),r=n(1),o=n(4);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(63)("keys"),r=n(67);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t,n){var i=n(8),r="__core-js_shared__",o=i[r]||(i[r]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var i=n(21),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),0>e?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(21),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){var i=n(3);i(i.S+i.F,"Object",{assign:n(55)})},function(e,t,n){var i=n(3);i(i.S+i.F*!n(2),"Object",{defineProperties:n(56)})},function(e,t,n){var i=n(3);i(i.S+i.F*!n(2),"Object",{defineProperty:n(10).f})},function(e,t,n){var i=n(23),r=n(11);n(60)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){function i(e,t,n){n=n||{};var i=s(e)+"="+s(t);null==t&&(n.maxage=-1),n.maxage&&(n.expires=new Date(+new Date+n.maxage)),n.path&&(i+="; path="+n.path),n.domain&&(i+="; domain="+n.domain),n.expires&&(i+="; expires="+n.expires.toUTCString()),n.secure&&(i+="; secure"),document.cookie=i}function r(){var e;try{e=document.cookie}catch(t){return"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t.stack||t),{}}return a(e)}function o(e){return r()[e]}function a(e){var t,n={},i=e.split(/ *; */);if(""==i[0])return n;for(var r=0;r<i.length;++r)t=i[r].split("="),n[f(t[0])]=f(t[1]);return n}function s(e){try{return encodeURIComponent(e)}catch(t){l("error `encode(%o)` - %o",e,t)}}function f(e){try{return decodeURIComponent(e)}catch(t){l("error `decode(%o)` - %o",e,t)}}var l=n(73)("cookie");e.exports=function(e,t,n){switch(arguments.length){case 3:case 2:return i(e,t,n);case 1:return o(e);default:return r()}}},function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function s(){var e;try{e=t.storage.debug}catch(n){}return e}function f(){try{return window.localStorage}catch(e){}}t=e.exports=n(74),t.log=o,t.formatArgs=r,t.save=a,t.load=s,t.useColors=i,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:f(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t,n){function i(){return t.colors[u++%t.colors.length]}function r(e){function n(){}function r(){var e=r,n=+new Date,o=n-(l||n);e.diff=o,e.prev=l,e.curr=n,l=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,i){if("%%"===n)return n;s++;var r=t.formatters[i];if("function"==typeof r){var o=a[s];n=r.call(e,o),a.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var f=r.log||t.log||console.log.bind(console);f.apply(e,a)}n.enabled=!1,r.enabled=!0;var o=t.enabled(e)?r:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),i=n.length,r=0;i>r;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,i;for(n=0,i=t.skips.length;i>n;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;i>n;n++)if(t.names[n].test(e))return!0;return!1}function f(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r,t.coerce=f,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(75),t.names=[],t.skips=[],t.formatters={};var l,u=0},function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*u;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*f;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=f?Math.round(e/f)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return o(e,l,"day")||o(e,f,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,f=60*s,l=24*f,u=365.25*l;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?r(e):i(e)}},function(e,t){e.exports={"package":"com.zhihu.za.proto",options:{java_outer_classname:"ZaSessionProto","(current_log_version)":"0.4.11"},messages:[{name:"ZaOptions",fields:[{rule:"optional",type:"string",name:"hv",id:1}]},{name:"ZaLogEntry",fields:[{rule:"optional",type:"string",name:"log_version",id:1,options:{"(za_opt).hv":"log_version"}},{rule:"optional",type:"int32",name:"local_increment_id",id:2},{rule:"optional",type:"LogType",name:"log_type",id:3,options:{"(za_opt).hv":"type"}},{rule:"optional",type:"BaseInfo",name:"base",id:4},{rule:"optional",type:"DetailInfo",name:"detail",id:5},{rule:"optional",type:"ExtraInfo",name:"extra",id:6}],enums:[{name:"LogType",values:[{name:"Unknown",id:0},{name:"Event",id:1},{name:"PageShow",id:2},{name:"CardShow",id:3},{name:"Ping",id:4},{name:"Backend",id:5},{name:"Crash",id:6}]}]},{name:"ZaLogBatchEntry",fields:[{rule:"repeated",type:"ZaLogEntry",name:"entry",id:1}]},{name:"BaseInfo",fields:[{rule:"optional",type:"IDInfo",name:"id",id:1},{rule:"optional",type:"ClientInfo",name:"client",id:2},{rule:"optional",type:"TimeInfo",name:"time",id:3},{rule:"optional",type:"NetworkInfo",name:"network",id:4},{rule:"optional",type:"LaunchInfo",name:"launch",id:5},{rule:"optional",type:"TaskIDInfo",name:"task_id",id:6}]},{name:"User",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"People",id:1},{name:"Org",id:2}]}]},{name:"IDInfo",fields:[{rule:"optional",type:"int64",name:"user_id",id:1,options:{"(za_opt).hv":"user_id"}},{rule:"optional",type:"string",name:"device_id",id:2,options:{"(za_opt).hv":"dev_id"}},{rule:"optional",type:"string",name:"client_id",id:3,options:{"(za_opt).hv":"client_id"}},{rule:"optional",type:"string",name:"response_id",id:4},{rule:"repeated",type:"string",name:"experiment_id",id:5,options:{"(za_opt).hv":"exp_id"}},{rule:"optional",type:"string",name:"session_id",id:6,options:{"(za_opt).hv":"sess_id"}},{rule:"optional",type:"int32",name:"session_index",id:7,options:{"(za_opt).hv":"sess_index"}},{rule:"optional",type:"bool",name:"is_user_id_day_new",id:8,options:{"(za_opt).hv":"is_user_id_day_new"}},{rule:"optional",type:"bool",name:"is_user_id_hour_new",id:9,options:{"(za_opt).hv":"is_user_id_hour_new"}},{rule:"optional",type:"bool",name:"is_client_id_day_new",id:10,options:{"(za_opt).hv":"is_client_id_day_new"}},{rule:"optional",type:"bool",name:"is_client_id_hour_new",id:11,options:{"(za_opt).hv":"is_client_id_hour_new"}},{rule:"optional",type:"bool",name:"is_device_id_day_new",id:12,options:{"(za_opt).hv":"is_device_id_day_new"}},{rule:"optional",type:"bool",name:"is_device_id_hour_new",id:13,options:{"(za_opt).hv":"is_device_id_hour_new"}},{rule:"optional",type:"User.Type",name:"user_type",id:14,options:{"(za_opt).hv":"user_type"}},{rule:"optional",type:"bool",name:"is_user_logged_in",id:15,options:{"(za_opt).hv":"is_user_logged_in"}},{rule:"optional",type:"bool",name:"is_valid_device",id:16,options:{"(za_opt).hv":"is_valid_device"}},{rule:"optional",type:"string",name:"idfa",id:17}]},{name:"Platform",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"DesktopWeb",id:1},{name:"TabletWeb",id:2},{name:"MobileWeb",id:3},{name:"AndroidPhone",id:4},{name:"AndroidPad",id:5},{name:"iPhone",id:6},{name:"iPad",id:7}]}]},{name:"BackendService",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Search",id:1},{name:"Ad",id:2}]}]},{name:"Product",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Zhihu",id:1},{name:"ZhihuDaily",id:2},{name:"Dudu",id:3},{name:"Zhi",id:4}]}]},{name:"UserAgent",fields:[{rule:"optional",type:"string",name:"agent_family",id:1},{rule:"optional",type:"string",name:"agent_major",id:2},{rule:"optional",type:"string",name:"agent_minor",id:3},{rule:"optional",type:"string",name:"agent_patch",id:4},{rule:"optional",type:"string",name:"os_family",id:5},{rule:"optional",type:"string",name:"os_major",id:6},{rule:"optional",type:"string",name:"os_minor",id:7},{rule:"optional",type:"string",name:"os_patch",id:8},{rule:"optional",type:"string",name:"os_patchMinor",id:9},{rule:"optional",type:"string",name:"device_family",id:10}]},{name:"ClientInfo",fields:[{rule:"optional",type:"Product.Type",name:"product",id:1,options:{"(za_opt).hv":"client_product"}},{rule:"optional",type:"Platform.Type",name:"platform",id:2,options:{"(za_opt).hv":"client_platform"}},{rule:"optional",type:"string",name:"source",id:3,options:{"(za_opt).hv":"source"}},{rule:"optional",type:"string",name:"version_name",id:4,options:{"(za_opt).hv":"vn"}},{rule:"optional",type:"int32",name:"version_code",id:5,options:{"(za_opt).hv":"vc"}},{rule:"optional",type:"string",name:"user_agent",id:6,options:{"(za_opt).hv":"ua"}},{rule:"optional",type:"BackendService.Type",name:"service",id:7,options:{"(za_opt).hv":"service"}},{rule:"optional",type:"UserAgent",name:"normalized_user_agent",id:8}]},{name:"TimeInfo",fields:[{rule:"optional",type:"int64",name:"client_timestamp",id:1,options:{"(za_opt).hv":"client_ts"}},{rule:"optional",type:"string",name:"client_timezone",id:2,options:{"(za_opt).hv":"client_tz"}},{rule:"optional",type:"int64",name:"server_timestamp",id:3,options:{"(za_opt).hv":"server_ts"}},{rule:"optional",type:"string",name:"date",id:4},{rule:"optional",type:"string",name:"hour",id:5}]},{name:"MobileNetwork",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"GPRS",id:1},{name:"EDGE",id:2},{name:"UMTS",id:3},{name:"CDMA",id:4},{name:"EVDO_0",id:5},{name:"EVDO_A",id:6},{name:"EVDO_B",id:7},{name:"HSDPA",id:8},{name:"HSUPA",id:9},{name:"HSPA",id:10},{name:"IDEN",id:11},{name:"CDMA_1xRTT",id:12},{name:"LTE",id:13},{name:"EHRPD",id:14},{name:"HSPAP",id:15},{name:"GSM",id:16},{name:"TD_SCDMA",id:17},{name:"IWLAN",id:18}]}]},{name:"NetworkInfo",fields:[{rule:"optional",type:"NetworkType",name:"type",id:1,options:{"(za_opt).hv":"network"}},{rule:"optional",type:"MobileNetwork.Type",name:"mobile_network_type",id:2,options:{"(za_opt).hv":"mobile"}},{rule:"optional",type:"string",name:"isp",id:3,options:{"(za_opt).hv":"isp"}},{rule:"optional",type:"string",name:"internet_ip",id:4,options:{"(za_opt).hv":"ip"}},{rule:"optional",type:"string",name:"ssid",id:5,options:{"(za_opt).hv":"ssid"}},{rule:"optional",type:"string",name:"country",id:6,options:{"(za_opt).hv":"country"}},{rule:"optional",type:"string",name:"province",id:7,options:{"(za_opt).hv":"province"}},{rule:"optional",type:"string",name:"city",id:8,options:{"(za_opt).hv":"city"}}],enums:[{name:"NetworkType",values:[{name:"Unknown",id:0},{name:"Wifi",id:1},{name:"Cellular",id:2},{name:"Bluetooth",id:3},{name:"Ethernet",id:4},{name:"Wimax",id:5},{name:"Other",id:6},{name:"None",id:7}]}]},{name:"LaunchInfo",fields:[{rule:"optional",type:"Source",name:"source",id:1,options:{"(za_opt).hv":"launch_source"}},{rule:"optional",type:"ViewInfo",name:"view",id:2,options:{"(za_opt).hv":"launch"}},{rule:"optional",type:"string",name:"package_name",id:3,options:{"(za_opt).hv":"launch_pn"}}],enums:[{name:"Source",values:[{name:"Unknown",id:0},{name:"Shortcut",id:1},{name:"Widge",id:2},{name:"Web",id:3},{name:"MobileWeb",id:4},{name:"Notification",id:5},{name:"Push",id:6},{name:"App",id:7}]}]},{name:"DetailInfo",fields:[{rule:"optional",type:"ViewInfo",name:"view",id:1},{rule:"optional",type:"ViewInfo",name:"last_event",id:2,options:{"(za_opt).hv":"last"}},{rule:"optional",type:"ViewInfo",name:"referrer_event",id:4,options:{"(za_opt).hv":"ref"}},{rule:"optional",type:"RequestInfo",name:"request_info",id:3,options:{"(za_opt).hv":"request"}},{rule:"optional",type:"string",name:"browser_referrer",id:5,options:{"(za_opt).hv":"referrer"}}]},{name:"CallStatus",fields:[{rule:"optional",type:"int32",name:"code",id:1,options:{"(za_opt).hv":"c"}},{rule:"optional",type:"string",name:"message",id:2,options:{"(za_opt).hv":"m"}}]},{name:"ServiceInfo",fields:[{rule:"optional",type:"string",name:"url",id:1,options:{"(za_opt).hv":"url"}},{rule:"optional",type:"int32",name:"offset",id:2,options:{"(za_opt).hv":"offset"}},{rule:"optional",type:"int32",name:"limit",id:3,options:{"(za_opt).hv":"limit"}},{rule:"optional",type:"string",name:"name",id:4,options:{"(za_opt).hv":"n"}},{rule:"optional",type:"int64",name:"latency",id:5,options:{"(za_opt).hv":"latency"}},{rule:"optional",type:"string",name:"address",id:6,options:{"(za_opt).hv":"addr"}},{rule:"optional",type:"Type",name:"type",id:7,options:{"(za_opt).hv":"t"}},{rule:"optional",type:"CallStatus",name:"status",id:8,options:{"(za_opt).hv":"call"}}],enums:[{name:"Type",values:[{name:"Unknown",
id:0},{name:"Http",id:1},{name:"Zone",id:2}]}]},{name:"RequestInfo",fields:[{rule:"repeated",type:"ServiceInfo",name:"remote",id:1,options:{"(za_opt).hv":"remote"}},{rule:"optional",type:"ServiceInfo",name:"self",id:2,options:{"(za_opt).hv":"self"}},{rule:"optional",type:"bool",name:"hit_cache",id:3,options:{"(za_opt).hv":"hit_cache","default":!1}}]},{name:"Element",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Button",id:1},{name:"Tab",id:2},{name:"InputBox",id:3},{name:"Text",id:4},{name:"Link",id:5},{name:"Image",id:6},{name:"Page",id:7},{name:"ListItem",id:8},{name:"Card",id:9},{name:"Dialog",id:10},{name:"Select",id:11},{name:"Menu",id:12},{name:"Icon",id:13},{name:"NotificationBar",id:14},{name:"NavigationBar",id:15}]}]},{name:"Action",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Click",id:1},{name:"Hover",id:2},{name:"Select",id:3},{name:"Unselect",id:4},{name:"Close",id:5},{name:"Search",id:6},{name:"Expand",id:7},{name:"Collapse",id:8},{name:"Ok",id:9},{name:"Cancel",id:10},{name:"Remove",id:11},{name:"NextPage",id:12},{name:"PrevPage",id:13},{name:"GoPage",id:14},{name:"OpenUrl",id:15},{name:"StartInput",id:16},{name:"Paste",id:17},{name:"LoadNewFeed",id:18},{name:"RollForMore",id:19},{name:"AutoSave",id:20},{name:"ViewNotification",id:21},{name:"Switch",id:22},{name:"Upvote",id:23},{name:"UnUpvote",id:24},{name:"Downvote",id:25},{name:"UnDownvote",id:26},{name:"Thank",id:27},{name:"UnThank",id:28},{name:"NoHelp",id:29},{name:"UnNoHelp",id:30},{name:"Follow",id:31},{name:"UnFollow",id:32},{name:"SignUp",id:33},{name:"SignIn",id:34},{name:"Back",id:35},{name:"Exit",id:36},{name:"StatusReport",id:37},{name:"Ignore",id:38},{name:"UnIgnore",id:39},{name:"LoadMore",id:40},{name:"BackToTop",id:41},{name:"Refresh",id:42},{name:"Collect",id:43},{name:"UnCollect",id:44},{name:"CommentIntent",id:45},{name:"ShareIntent",id:46},{name:"CollectIntent",id:47},{name:"ReportIntent",id:48},{name:"EndCommentIntent",id:49},{name:"Pay",id:50},{name:"Play",id:51},{name:"PayIntent",id:52},{name:"Send",id:53},{name:"StartRecord",id:54},{name:"EndRecord",id:55},{name:"Like",id:56},{name:"StopPlay",id:57},{name:"EndPlay",id:58},{name:"Mute",id:59},{name:"UnMute",id:60},{name:"Ban",id:61},{name:"UnBan",id:62},{name:"Load",id:63},{name:"Hide",id:64}]}]},{name:"Module",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"AnswerItem",id:1},{name:"PostItem",id:2},{name:"QuestionItem",id:3},{name:"RoundtableItem",id:4},{name:"TopicItem",id:5},{name:"UserItem",id:6},{name:"LogItem",id:7},{name:"CollectionItem",id:8},{name:"CommentItem",id:9},{name:"FeedItem",id:10},{name:"HoverCard",id:11},{name:"HomeFeedList",id:12},{name:"TopStoryFeedList",id:13},{name:"SignInForm",id:14},{name:"SignUpForm",id:15},{name:"SignInDialog",id:16},{name:"SignUpDialog",id:17},{name:"SNSSignIn",id:18},{name:"VoteInfo",id:19},{name:"VoteBar",id:20},{name:"FeedSource",id:21},{name:"RelatedQuestions",id:22},{name:"Captcha",id:23},{name:"HomeTopics",id:24},{name:"PayCard",id:25},{name:"MessageItem",id:26},{name:"Toast",id:27},{name:"SnackBar",id:28},{name:"ToolBar",id:29},{name:"LiveItem",id:30},{name:"ShareCard",id:31},{name:"Column",id:32},{name:"ColumnItem",id:33},{name:"Roundtable",id:34},{name:"BottomBar",id:35},{name:"CommentEditView",id:36},{name:"FloatingActionButton",id:37}]}]},{name:"ViewLocation",fields:[{rule:"optional",type:"Module.Type",name:"module",id:1,options:{"(za_opt).hv":""}},{rule:"optional",type:"int32",name:"index",id:2,options:{"(za_opt).hv":"index"}}]},{name:"ViewInfo",fields:[{rule:"optional",type:"string",name:"url",id:1,options:{"(za_opt).hv":"url"}},{rule:"optional",type:"string",name:"normalized_url",id:2,options:{"(za_opt).hv":"n_url"}},{rule:"optional",type:"Action.Type",name:"action",id:3,options:{"(za_opt).hv":"act"}},{rule:"optional",type:"Element.Type",name:"element",id:4,options:{"(za_opt).hv":"element"}},{rule:"repeated",type:"ViewLocation",name:"path",id:5,options:{"(za_opt).hv":"path"}},{rule:"optional",type:"string",name:"name",id:6,options:{"(za_opt).hv":"name"}}]},{name:"StatusResult",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Success",id:1},{name:"Fail",id:2},{name:"BadCaptcha",id:3}]}]},{name:"ExtraInfo",fields:[{rule:"optional",type:"DeviceInfo",name:"device",id:1,options:{"(za_opt).hv":"dev"}},{rule:"optional",type:"AccountInfo",name:"account",id:2,options:{"(za_opt).hv":"account"}},{rule:"optional",type:"ContentInfo",name:"content",id:3,options:{deprecated:!0,"(za_opt).hv":"content"}},{rule:"optional",type:"SearchInfo",name:"search",id:4,options:{"(za_opt).hv":"search"}},{rule:"optional",type:"StatusInfo",name:"status",id:5,options:{"(za_opt).hv":"status"}},{rule:"repeated",type:"ModuleInfo",name:"module",id:6,options:{"(za_opt).hv":"module"}},{rule:"optional",type:"UrlInfo",name:"link",id:7,options:{"(za_opt).hv":"link"}},{rule:"optional",type:"CaptchaInfo",name:"captcha",id:8,options:{"(za_opt).hv":"captcha"}},{rule:"optional",type:"NotificationInfo",name:"notification",id:9,options:{"(za_opt).hv":"notification"}},{rule:"optional",type:"PaymentInfo",name:"payment",id:10,options:{"(za_opt).hv":"payment"}},{rule:"optional",type:"ZaErrorInfo",name:"za_error_info",id:11},{rule:"optional",type:"ButtonInfo",name:"button",id:12}]},{name:"PaymentInfo",fields:[{rule:"optional",type:"Type",name:"type",id:1,options:{"(za_opt).hv":"type"}},{rule:"optional",type:"double",name:"money",id:2,options:{"(za_opt).hv":"money"}},{rule:"optional",type:"string",name:"id",id:3,options:{"(za_opt).hv":"id"}}],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Wechat",id:1},{name:"Alipay",id:2}]}]},{name:"AccountType",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Zhihu",id:1},{name:"Wechat",id:2},{name:"Weibo",id:3},{name:"QQ",id:4}]}]},{name:"AccountInfo",fields:[{rule:"optional",type:"AccountType.Type",name:"type",id:1,options:{"(za_opt).hv":"type"}},{rule:"optional",type:"string",name:"name",id:2,options:{"(za_opt).hv":"n"}},{rule:"optional",type:"string",name:"email",id:3,options:{"(za_opt).hv":"email"}},{rule:"optional",type:"string",name:"phone",id:4,options:{"(za_opt).hv":"ph"}}]},{name:"ContentType",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"User",id:1},{name:"Topic",id:2},{name:"Question",id:3},{name:"Answer",id:4},{name:"Column",id:5},{name:"Collection",id:6},{name:"Post",id:7},{name:"Comment",id:8},{name:"Roundtable",id:9},{name:"Message",id:10},{name:"Live",id:11},{name:"ZhiMessage",id:12},{name:"LiveMessage",id:13}]}]},{name:"ContentInfo",fields:[{rule:"optional",type:"string",name:"id",id:1,options:{"(za_opt).hv":"id"}},{rule:"optional",type:"ContentType.Type",name:"type",id:2,options:{"(za_opt).hv":"type"}},{rule:"optional",type:"string",name:"snippet",id:3,options:{"(za_opt).hv":"snippet"}},{rule:"optional",type:"string",name:"author_id",id:4,options:{"(za_opt).hv":"author"}},{rule:"optional",type:"string",name:"parent_id",id:5,options:{"(za_opt).hv":"parent"}},{rule:"optional",type:"int32",name:"upvote_num",id:6,options:{"(za_opt).hv":"up_num"}},{rule:"optional",type:"int32",name:"comment_num",id:7,options:{"(za_opt).hv":"comment_num"}},{rule:"optional",type:"int32",name:"item_num",id:8,options:{"(za_opt).hv":"item_num"}},{rule:"optional",type:"int32",name:"follower_num",id:9,options:{"(za_opt).hv":"follower_num"}},{rule:"optional",type:"int64",name:"publish_timestamp",id:10,options:{"(za_opt).hv":"pub_time"}},{rule:"optional",type:"int64",name:"action_timestmap",id:11,options:{"(za_opt).hv":"act_time"}},{rule:"optional",type:"string",name:"token",id:12,options:{"(za_opt).hv":"token"}},{rule:"optional",type:"bool",name:"is_ad",id:13,options:{"default":!1,"(za_opt).hv":"is_ad"}},{rule:"optional",type:"string",name:"parent_token",id:14},{rule:"optional",type:"string",name:"member_hash_id",id:15},{rule:"optional",type:"AdInfo",name:"ad_info",id:16}]},{name:"Os",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Android",id:1},{name:"iOS",id:2},{name:"OsX",id:3},{name:"Windows",id:4}]}]},{name:"DeviceInfo",fields:[{rule:"optional",type:"string",name:"os_str",id:1},{rule:"optional",type:"Os.Type",name:"os_type",id:2},{rule:"optional",type:"string",name:"os_version",id:3},{rule:"optional",type:"int32",name:"os_bit",id:4},{rule:"optional",type:"int32",name:"sdk_level",id:5},{rule:"optional",type:"string",name:"model",id:6},{rule:"optional",type:"string",name:"brand",id:7},{rule:"optional",type:"bool",name:"is_root",id:8},{rule:"optional",type:"string",name:"rom_version",id:9},{rule:"optional",type:"string",name:"rom_name",id:10},{rule:"optional",type:"string",name:"cpu",id:11},{rule:"optional",type:"string",name:"screen",id:12},{rule:"optional",type:"string",name:"mac_addr",id:13},{rule:"optional",type:"string",name:"imei",id:14},{rule:"optional",type:"int32",name:"memory",id:15},{rule:"optional",type:"int32",name:"sd_card_1",id:16},{rule:"optional",type:"int32",name:"sd_card_2",id:17},{rule:"optional",type:"string",name:"imsi_1",id:18},{rule:"optional",type:"string",name:"imsi_2",id:19}]},{name:"SearchInfo",fields:[{rule:"optional",type:"string",name:"raw_query",id:1,options:{"(za_opt).hv":"raw_q"}},{rule:"optional",type:"string",name:"query",id:2,options:{"(za_opt).hv":"q"}},{rule:"repeated",type:"ContentType.Type",name:"restrict_type",id:3,options:{"(za_opt).hv":"restrict_type"}},{rule:"optional",type:"int32",name:"estimated_num",id:4,options:{"(za_opt).hv":"estimated_num"}},{rule:"optional",type:"ListInfo",name:"result",id:5,options:{"(za_opt).hv":"result"}}]},{name:"StatusInfo",fields:[{rule:"optional",type:"StatusType",name:"type",id:1},{rule:"optional",type:"StatusResult.Type",name:"result",id:2},{rule:"optional",type:"string",name:"error_message",id:3},{rule:"optional",type:"ViewInfo",name:"event",id:4}],enums:[{name:"StatusType",values:[{name:"Unknown",id:0},{name:"End",id:1}]}]},{name:"ModuleInfo",fields:[{rule:"optional",type:"CardInfo",name:"card",id:1,options:{"(za_opt).hv":"card"}},{rule:"optional",type:"ListInfo",name:"list",id:2,options:{"(za_opt).hv":"list"}}]},{name:"CardInfo",fields:[{rule:"optional",type:"Type",name:"card_type",id:1,options:{"(za_opt).hv":"type"}},{rule:"repeated",type:"ContentInfo",name:"content",id:2,options:{"(za_opt).hv":"content"}},{rule:"optional",type:"FeedSource",name:"feed_source",id:3,options:{"(za_opt).hv":"feed"}}],messages:[{name:"FeedSource",fields:[{rule:"repeated",type:"string",name:"actor_id",id:1,options:{"(za_opt).hv":"id"}},{rule:"optional",type:"ContentType.Type",name:"actor_type",id:2,options:{"(za_opt).hv":"actor_type"}},{rule:"optional",type:"ActionType",name:"action_type",id:3,options:{"(za_opt).hv":"action"}}],enums:[{name:"ActionType",values:[{name:"Unknown",id:0},{name:"Follow",id:1},{name:"Publish",id:2},{name:"Upvote",id:3},{name:"Answer",id:4}]}]}],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"Content",id:1},{name:"PopularTopics",id:2},{name:"SuggestedTopics",id:3},{name:"ValidationReminder",id:4},{name:"AvatarReminder",id:5},{name:"HeadlineReminder",id:6},{name:"Feed",id:7}]}]},{name:"ListSection",fields:[{rule:"optional",type:"ContentType.Type",name:"type",id:1,options:{"(za_opt).hv":"content_type"}},{rule:"optional",type:"string",name:"name",id:2,options:{"(za_opt).hv":"name"}},{rule:"optional",type:"int32",name:"num",id:3,options:{"(za_opt).hv":"num"}}]},{name:"ListInfo",fields:[{rule:"optional",type:"int32",name:"list_size",id:1,options:{"(za_opt).hv":"size"}},{rule:"optional",type:"int32",name:"new_item_size",id:2,options:{"(za_opt).hv":"new_item_size"}},{rule:"repeated",type:"CardInfo",name:"card",id:3,options:{"(za_opt).hv":"card"}},{rule:"repeated",type:"ListSection",name:"section",id:4,options:{"(za_opt).hv":"section"}}]},{name:"UrlInfo",fields:[{rule:"optional",type:"string",name:"url",id:1,options:{"(za_opt).hv":""}},{rule:"optional",type:"string",name:"anchor",id:2,options:{"(za_opt).hv":"anchor"}}]},{name:"CaptchaInfo",fields:[{rule:"optional",type:"Type",name:"type",id:1,options:{"(za_opt).hv":"type"}},{rule:"optional",type:"string",name:"id",id:2,options:{"(za_opt).hv":"id"}}],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"English",id:1},{name:"Chinese",id:2}]}]},{name:"NotificationInfo",fields:[{rule:"optional",type:"string",name:"title",id:1,options:{"(za_opt).hv":"title"}},{rule:"optional",type:"string",name:"url",id:2,options:{"(za_opt).hv":"url"}},{rule:"optional",type:"string",name:"id",id:3,options:{"(za_opt).hv":"id"}},{rule:"optional",type:"int64",name:"sent_timestamp",id:4,options:{"(za_opt).hv":"sent_at"}},{rule:"optional",type:"string",name:"action",id:5,options:{"(za_opt).hv":"action"}}]},{name:"ZaLog",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"ZaLogEntry",id:1},{name:"ZaLogBatchEntry",id:2}]}]},{name:"LogServerError",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"GZipDecompress",id:1},{name:"ProtobufDecode",id:2}]}]},{name:"ZaErrorInfo",fields:[{rule:"optional",type:"ZaLog.Type",name:"log_type",id:1},{rule:"optional",type:"LogServerError.Type",name:"error_type",id:2},{rule:"optional",type:"string",name:"error_msg",id:3},{rule:"optional",type:"int32",name:"batch_size",id:4}]},{name:"ButtonInfo",fields:[{rule:"optional",type:"string",name:"text",id:1}]},{name:"CurrencyType",fields:[],enums:[{name:"Type",values:[{name:"Unknown",id:0},{name:"CNY",id:1},{name:"USD",id:2},{name:"EUR",id:3},{name:"JPY",id:4}]}]},{name:"AdInfo",fields:[{rule:"optional",type:"int64",name:"ad_id",id:1},{rule:"optional",type:"int64",name:"ad_zone_id",id:2},{rule:"optional",type:"double",name:"ad_relevency",id:3},{rule:"optional",type:"string",name:"category",id:4},{rule:"optional",type:"double",name:"cpm",id:5},{rule:"optional",type:"string",name:"cpm_encrypt",id:6},{rule:"optional",type:"string",name:"sign",id:7},{rule:"optional",type:"bool",name:"is_valid",id:8},{rule:"optional",type:"CurrencyType.Type",name:"currency_type",id:9},{rule:"optional",type:"string",name:"version",id:10}]},{name:"TaskIDInfo",fields:[{rule:"optional",type:"string",name:"ad_task_id",id:1}]},{name:"ZaTaskType",fields:[],enums:[{name:"Type",values:[{name:"UNKNOWN",id:1},{name:"SEARCH",id:2}]}]},{name:"ZaTask",fields:[{rule:"optional",type:"ZaTaskType.Type",name:"type",id:1},{rule:"repeated",type:"ZaLogEntry",name:"log",id:2},{rule:"optional",type:"IDInfo",name:"id",id:3},{rule:"optional",type:"ClientInfo",name:"client",id:4},{rule:"optional",type:"int64",name:"start_timestamp",id:5},{rule:"optional",type:"int64",name:"end_timestamp",id:6}]},{name:"ZaSessionEntry",fields:[{rule:"optional",type:"Type",name:"type",id:1},{rule:"optional",type:"ZaLogEntry",name:"log",id:2},{rule:"optional",type:"ZaTask",name:"task",id:3}],enums:[{name:"Type",values:[{name:"EVENT",id:1},{name:"PAGE_SHOW",id:2},{name:"CARD_SHOW",id:3},{name:"TASK",id:4}]}]},{name:"ZaSession",fields:[{rule:"repeated",type:"ZaSessionEntry",name:"entry",id:1},{rule:"optional",type:"IDInfo",name:"id",id:2},{rule:"optional",type:"ClientInfo",name:"client",id:3},{rule:"optional",type:"int64",name:"start_timestamp",id:4},{rule:"optional",type:"int64",name:"end_timestamp",id:5}]}]}},function(e,t,n){"use strict";function i(e){if(!(this instanceof i))return new i(e);this.options=f.assign({level:v,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==g)throw new Error(u[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(r="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=s.deflateSetDictionary(this.strm,r),n!==g)throw new Error(u[n]);this._dict_set=!0}}function r(e,t){var n=new i(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function o(e,t){return t=t||{},t.raw=!0,r(e,t)}function a(e,t){return t=t||{},t.gzip=!0,r(e,t)}var s=n(81),f=n(5),l=n(78),u=n(24),h=n(83),d=Object.prototype.toString,p=0,c=4,g=0,m=1,y=2,v=-1,_=0,w=8;i.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:t===!0?c:p,"string"==typeof e?r.input=l.string2buf(e):"[object ArrayBuffer]"===d.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new f.Buf8(o),r.next_out=0,r.avail_out=o),n=s.deflate(r,i),n!==m&&n!==g)return this.onEnd(n),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||i!==c&&i!==y)||("string"===this.options.to?this.onData(l.buf2binstring(f.shrinkBuf(r.output,r.next_out))):this.onData(f.shrinkBuf(r.output,r.next_out)))}while((r.avail_in>0||0===r.avail_out)&&n!==m);return i===c?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===g):i===y?(this.onEnd(g),r.avail_out=0,!0):!0},i.prototype.onData=function(e){this.chunks.push(e)},i.prototype.onEnd=function(e){e===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=i,t.deflate=r,t.deflateRaw=o,t.gzip=a},function(e,t,n){"use strict";function i(e,t){if(65537>t&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",i=0;t>i;i++)n+=String.fromCharCode(e[i]);return n}var r=n(5),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(s){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(s){a=!1}for(var f=new r.Buf8(256),l=0;256>l;l++)f[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;f[254]=f[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,f=0;for(o=0;s>o;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),f+=128>n?1:2048>n?2:65536>n?3:4;for(t=new r.Buf8(f),a=0,o=0;f>a;o++)n=e.charCodeAt(o),55296===(64512&n)&&s>o+1&&(i=e.charCodeAt(o+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),o++)),128>n?t[a++]=n:2048>n?(t[a++]=192|n>>>6,t[a++]=128|63&n):65536>n?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return i(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;i>n;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,o,a,s=t||e.length,l=new Array(2*s);for(r=0,n=0;s>n;)if(o=e[n++],128>o)l[r++]=o;else if(a=f[o],a>4)l[r++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&s>n;)o=o<<6|63&e[n++],a--;a>1?l[r++]=65533:65536>o?l[r++]=o:(o-=65536,l[r++]=55296|o>>10&1023,l[r++]=56320|1023&o)}return i(l,r)},t.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&128===(192&e[n]);)n--;return 0>n?t:0===n?t:n+f[e[n]]>t?n:t}},function(e,t){"use strict";function n(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){a=n>2e3?2e3:n,n-=a;do r=r+t[i++]|0,o=o+r|0;while(--a);r%=65521,o%=65521}return r|o<<16|0}e.exports=n},function(e,t){"use strict";function n(){for(var e,t=[],n=0;256>n;n++){e=n;for(var i=0;8>i;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}function i(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;a>s;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}var r=n();e.exports=i},function(e,t,n){"use strict";function i(e,t){return e.msg=O[t],t}function r(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(A.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){L._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function f(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,i){var r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,A.arraySet(t,e.input,e.next_in,r,n),1===e.state.wrap?e.adler=R(e.adler,t,r,n):2===e.state.wrap&&(e.adler=U(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)}function h(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,f=e.strstart>e.w_size-he?e.strstart-(e.w_size-he):0,l=e.window,u=e.w_mask,h=e.prev,d=e.strstart+ue,p=l[o+a-1],c=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do if(n=t,l[n+a]===c&&l[n+a-1]===p&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do;while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&d>o);if(i=ue-(d-o),o=d-ue,i>a){if(e.match_start=t,a=i,i>=s)break;p=l[o+a-1],c=l[o+a]}}while((t=h[t&u])>f&&0!==--r);return a<=e.lookahead?a:e.lookahead}function d(e){var t,n,i,r,o,a=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-he)){A.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,n=e.hash_size,t=n;do i=e.head[--t],e.head[t]=i>=a?i-a:0;while(--n);n=a,t=n;do i=e.prev[--t],e.prev[t]=i>=a?i-a:0;while(--n);r+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=le)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+le-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<le)););}while(e.lookahead<he&&0!==e.strm.avail_in)}function p(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(d(e),0===e.lookahead&&t===N)return we;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,s(e,!1),0===e.strm.avail_out))return we;if(e.strstart-e.block_start>=e.w_size-he&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===Y?(s(e,!0),0===e.strm.avail_out?Ee:Te):e.strstart>e.block_start&&(s(e,!1),0===e.strm.avail_out)?we:we}function c(e,t){for(var n,i;;){if(e.lookahead<he){if(d(e),e.lookahead<he&&t===N)return we;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-he&&(e.match_length=h(e,n)),e.match_length>=le)if(i=L._tr_tally(e,e.strstart-e.match_start,e.match_length-le),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=le){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=e.strstart<le-1?e.strstart:le-1,t===Y?(s(e,!0),0===e.strm.avail_out?Ee:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:be}function g(e,t){for(var n,i,r;;){if(e.lookahead<he){if(d(e),e.lookahead<he&&t===N)return we;if(0===e.lookahead)break}if(n=0,e.lookahead>=le&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=le-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-he&&(e.match_length=h(e,n),e.match_length<=5&&(e.strategy===W||e.match_length===le&&e.strstart-e.match_start>4096)&&(e.match_length=le-1)),e.prev_length>=le&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-le,i=L._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-le),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+le-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=le-1,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return we}else if(e.match_available){if(i=L._tr_tally(e,0,e.window[e.strstart-1]),i&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return we}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=L._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<le-1?e.strstart:le-1,t===Y?(s(e,!0),0===e.strm.avail_out?Ee:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:be}function m(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=ue){if(d(e),e.lookahead<=ue&&t===N)return we;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=le&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+ue;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&o>r);e.match_length=ue-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=le?(n=L._tr_tally(e,1,e.match_length-le),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===Y?(s(e,!0),0===e.strm.avail_out?Ee:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:be}function y(e,t){for(var n;;){if(0===e.lookahead&&(d(e),0===e.lookahead)){if(t===N)return we;break}if(e.match_length=0,n=L._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return we}return e.insert=0,t===Y?(s(e,!0),0===e.strm.avail_out?Ee:Te):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?we:be}function v(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function _(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=x[e.level].max_lazy,e.good_match=x[e.level].good_length,e.nice_match=x[e.level].nice_length,e.max_chain_length=x[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=le-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*se),this.dyn_dtree=new A.Buf16(2*(2*oe+1)),this.bl_tree=new A.Buf16(2*(2*ae+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(fe+1),this.heap=new A.Buf16(2*re+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*re+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=J,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?pe:ve,e.adler=2===t.wrap?0:1,t.last_flush=N,L._tr_init(t),V):i(e,j)}function E(e){var t=b(e);return t===V&&_(e.state),t}function T(e,t){return e&&e.state?2!==e.state.wrap?j:(e.state.gzhead=t,V):j}function I(e,t,n,r,o,a){if(!e)return j;var s=1;if(t===q&&(t=6),0>r?(s=0,r=-r):r>15&&(s=2,r-=16),1>o||o>Q||n!==K||8>r||r>15||0>t||t>9||0>a||a>G)return i(e,j);8===r&&(r=9);var f=new w;return e.state=f,f.strm=e,f.wrap=s,f.gzhead=null,f.w_bits=r,f.w_size=1<<f.w_bits,f.w_mask=f.w_size-1,f.hash_bits=o+7,f.hash_size=1<<f.hash_bits,f.hash_mask=f.hash_size-1,f.hash_shift=~~((f.hash_bits+le-1)/le),f.window=new A.Buf8(2*f.w_size),f.head=new A.Buf16(f.hash_size),f.prev=new A.Buf16(f.w_size),f.lit_bufsize=1<<o+6,f.pending_buf_size=4*f.lit_bufsize,f.pending_buf=new A.Buf8(f.pending_buf_size),f.d_buf=f.lit_bufsize>>1,f.l_buf=3*f.lit_bufsize,f.level=t,f.strategy=a,f.method=n,E(e)}function S(e,t){return I(e,t,K,ee,te,X)}function k(e,t){var n,s,u,h;if(!e||!e.state||t>M||0>t)return e?i(e,j):j;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===_e&&t!==Y)return i(e,0===e.avail_out?Z:j);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===pe)if(2===s.wrap)e.adler=0,f(s,31),f(s,139),f(s,8),s.gzhead?(f(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),f(s,255&s.gzhead.time),f(s,s.gzhead.time>>8&255),f(s,s.gzhead.time>>16&255),f(s,s.gzhead.time>>24&255),f(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),f(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(f(s,255&s.gzhead.extra.length),f(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=U(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=ce):(f(s,0),f(s,0),f(s,0),f(s,0),f(s,0),f(s,9===s.level?2:s.strategy>=H||s.level<2?4:0),f(s,Ie),s.status=ve);else{var d=K+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=H||s.level<2?0:s.level<6?1:6===s.level?2:3,d|=p<<6,0!==s.strstart&&(d|=de),d+=31-d%31,s.status=ve,l(s,d),0!==s.strstart&&(l(s,e.adler>>>16),l(s,65535&e.adler)),e.adler=1}if(s.status===ce)if(s.gzhead.extra){for(u=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>u&&(e.adler=U(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending!==s.pending_buf_size));)f(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>u&&(e.adler=U(e.adler,s.pending_buf,s.pending-u,u)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=ge)}else s.status=ge;if(s.status===ge)if(s.gzhead.name){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=U(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,f(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(e.adler=U(e.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.comment){u=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>u&&(e.adler=U(e.adler,s.pending_buf,s.pending-u,u)),a(e),u=s.pending,s.pending===s.pending_buf_size)){h=1;break}h=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,f(s,h)}while(0!==h);s.gzhead.hcrc&&s.pending>u&&(e.adler=U(e.adler,s.pending_buf,s.pending-u,u)),0===h&&(s.status=ye)}else s.status=ye;if(s.status===ye&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(f(s,255&e.adler),f(s,e.adler>>8&255),e.adler=0,s.status=ve)):s.status=ve),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,V}else if(0===e.avail_in&&r(t)<=r(n)&&t!==Y)return i(e,Z);if(s.status===_e&&0!==e.avail_in)return i(e,Z);if(0!==e.avail_in||0!==s.lookahead||t!==N&&s.status!==_e){var c=s.strategy===H?y(s,t):s.strategy===$?m(s,t):x[s.level].func(s,t);if(c!==Ee&&c!==Te||(s.status=_e),c===we||c===Ee)return 0===e.avail_out&&(s.last_flush=-1),V;if(c===be&&(t===B?L._tr_align(s):t!==M&&(L._tr_stored_block(s,0,0,!1),t===C&&(o(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,V}return t!==Y?V:s.wrap<=0?F:(2===s.wrap?(f(s,255&e.adler),f(s,e.adler>>8&255),f(s,e.adler>>16&255),f(s,e.adler>>24&255),
f(s,255&e.total_in),f(s,e.total_in>>8&255),f(s,e.total_in>>16&255),f(s,e.total_in>>24&255)):(l(s,e.adler>>>16),l(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?V:F)}function P(e){var t;return e&&e.state?(t=e.state.status,t!==pe&&t!==ce&&t!==ge&&t!==me&&t!==ye&&t!==ve&&t!==_e?i(e,j):(e.state=null,t===ve?i(e,D):V)):j}function z(e,t){var n,i,r,a,s,f,l,u,h=t.length;if(!e||!e.state)return j;if(n=e.state,a=n.wrap,2===a||1===a&&n.status!==pe||n.lookahead)return j;for(1===a&&(e.adler=R(e.adler,t,h,0)),n.wrap=0,h>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new A.Buf8(n.w_size),A.arraySet(u,t,h-n.w_size,n.w_size,0),t=u,h=n.w_size),s=e.avail_in,f=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,d(n);n.lookahead>=le;){i=n.strstart,r=n.lookahead-(le-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+le-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--r);n.strstart=i,n.lookahead=le-1,d(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=le-1,n.match_available=0,e.next_in=f,e.input=l,e.avail_in=s,n.wrap=a,V}var x,A=n(5),L=n(82),R=n(79),U=n(80),O=n(24),N=0,B=1,C=3,Y=4,M=5,V=0,F=1,j=-2,D=-3,Z=-5,q=-1,W=1,H=2,$=3,G=4,X=0,J=2,K=8,Q=9,ee=15,te=8,ne=29,ie=256,re=ie+1+ne,oe=30,ae=19,se=2*re+1,fe=15,le=3,ue=258,he=ue+le+1,de=32,pe=42,ce=69,ge=73,me=91,ye=103,ve=113,_e=666,we=1,be=2,Ee=3,Te=4,Ie=3;x=[new v(0,0,0,0,p),new v(4,4,8,4,c),new v(4,5,16,8,c),new v(4,6,32,32,c),new v(4,4,16,16,g),new v(8,16,32,32,g),new v(8,16,128,128,g),new v(8,32,128,256,g),new v(32,128,258,1024,g),new v(32,258,258,4096,g)],t.deflateInit=S,t.deflateInit2=I,t.deflateReset=E,t.deflateResetKeep=b,t.deflateSetHeader=T,t.deflate=k,t.deflateEnd=P,t.deflateSetDictionary=z,t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function i(e){for(var t=e.length;--t>=0;)e[t]=0}function r(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return 256>e?fe[e]:fe[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function f(e,t,n){e.bi_valid>G-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=n-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){f(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0);return n>>>1}function h(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function d(e,t){var n,i,r,o,a,s,f=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,c=t.stat_desc.max_length,g=0;for(o=0;$>=o;o++)e.bl_count[o]=0;for(f[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;H>n;n++)i=e.heap[n],o=f[2*f[2*i+1]+1]+1,o>c&&(o=c,g++),f[2*i+1]=o,i>l||(e.bl_count[o]++,a=0,i>=p&&(a=d[i-p]),s=f[2*i],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(u[2*i+1]+a)));if(0!==g){do{for(o=c-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(o=c;0!==o;o--)for(i=e.bl_count[o];0!==i;)r=e.heap[--n],r>l||(f[2*r+1]!==o&&(e.opt_len+=(o-f[2*r+1])*f[2*r],f[2*r+1]=o),i--)}}function p(e,t,n){var i,r,o=new Array($+1),a=0;for(i=1;$>=i;i++)o[i]=a=a+n[i-1]<<1;for(r=0;t>=r;r++){var s=e[2*r+1];0!==s&&(e[2*r]=u(o[s]++,s))}}function c(){var e,t,n,i,o,a=new Array($+1);for(n=0,i=0;j-1>i;i++)for(ue[i]=n,e=0;e<1<<te[i];e++)le[n++]=i;for(le[n-1]=i,o=0,i=0;16>i;i++)for(he[i]=o,e=0;e<1<<ne[i];e++)fe[o++]=i;for(o>>=7;q>i;i++)for(he[i]=o<<7,e=0;e<1<<ne[i]-7;e++)fe[256+o++]=i;for(t=0;$>=t;t++)a[t]=0;for(e=0;143>=e;)ae[2*e+1]=8,e++,a[8]++;for(;255>=e;)ae[2*e+1]=9,e++,a[9]++;for(;279>=e;)ae[2*e+1]=7,e++,a[7]++;for(;287>=e;)ae[2*e+1]=8,e++,a[8]++;for(p(ae,Z+1,a),e=0;q>e;e++)se[2*e+1]=5,se[2*e]=u(e,5);de=new r(ae,te,D+1,Z,$),pe=new r(se,ne,0,q,$),ce=new r(new Array(0),ie,0,W,X)}function g(e){var t;for(t=0;Z>t;t++)e.dyn_ltree[2*t]=0;for(t=0;q>t;t++)e.dyn_dtree[2*t]=0;for(t=0;W>t;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function m(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function y(e,t,n,i){m(e),i&&(s(e,n),s(e,~n)),R.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function v(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function _(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&v(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!v(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function w(e,t,n){var i,r,o,s,u=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?l(e,r,t):(o=le[r],l(e,o+D+1,t),s=te[o],0!==s&&(r-=ue[o],f(e,r,s)),i--,o=a(i),l(e,o,n),s=ne[o],0!==s&&(i-=he[o],f(e,i,s)));while(u<e.last_lit);l(e,J,t)}function b(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,f=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=H,n=0;f>n;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)r=e.heap[++e.heap_len]=2>l?++l:0,o[2*r]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)_(e,o,n);r=f;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,_(e,o,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],d(e,t),p(o,l,e.bl_count)}function E(e,t,n){var i,r,o=-1,a=t[1],s=0,f=7,l=4;for(0===a&&(f=138,l=3),t[2*(n+1)+1]=65535,i=0;n>=i;i++)r=a,a=t[2*(i+1)+1],++s<f&&r===a||(l>s?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[2*K]++):10>=s?e.bl_tree[2*Q]++:e.bl_tree[2*ee]++,s=0,o=r,0===a?(f=138,l=3):r===a?(f=6,l=3):(f=7,l=4))}function T(e,t,n){var i,r,o=-1,a=t[1],s=0,u=7,h=4;for(0===a&&(u=138,h=3),i=0;n>=i;i++)if(r=a,a=t[2*(i+1)+1],!(++s<u&&r===a)){if(h>s){do l(e,r,e.bl_tree);while(0!==--s)}else 0!==r?(r!==o&&(l(e,r,e.bl_tree),s--),l(e,K,e.bl_tree),f(e,s-3,2)):10>=s?(l(e,Q,e.bl_tree),f(e,s-3,3)):(l(e,ee,e.bl_tree),f(e,s-11,7));s=0,o=r,0===a?(u=138,h=3):r===a?(u=6,h=3):(u=7,h=4)}}function I(e){var t;for(E(e,e.dyn_ltree,e.l_desc.max_code),E(e,e.dyn_dtree,e.d_desc.max_code),b(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*re[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function S(e,t,n,i){var r;for(f(e,t-257,5),f(e,n-1,5),f(e,i-4,4),r=0;i>r;r++)f(e,e.bl_tree[2*re[r]+1],3);T(e,e.dyn_ltree,t-1),T(e,e.dyn_dtree,n-1)}function k(e){var t,n=4093624447;for(t=0;31>=t;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return O;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return N;for(t=32;D>t;t++)if(0!==e.dyn_ltree[2*t])return N;return O}function P(e){ge||(c(),ge=!0),e.l_desc=new o(e.dyn_ltree,de),e.d_desc=new o(e.dyn_dtree,pe),e.bl_desc=new o(e.bl_tree,ce),e.bi_buf=0,e.bi_valid=0,g(e)}function z(e,t,n,i){f(e,(C<<1)+(i?1:0),3),y(e,t,n,!0)}function x(e){f(e,Y<<1,3),l(e,J,ae),h(e)}function A(e,t,n,i){var r,o,a=0;e.level>0?(e.strm.data_type===B&&(e.strm.data_type=k(e)),b(e,e.l_desc),b(e,e.d_desc),a=I(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,r>=o&&(r=o)):r=o=n+5,r>=n+4&&-1!==t?z(e,t,n,i):e.strategy===U||o===r?(f(e,(Y<<1)+(i?1:0),3),w(e,ae,se)):(f(e,(M<<1)+(i?1:0),3),S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),w(e,e.dyn_ltree,e.dyn_dtree)),g(e),i&&m(e)}function L(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(le[n]+D+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var R=n(5),U=4,O=0,N=1,B=2,C=0,Y=1,M=2,V=3,F=258,j=29,D=256,Z=D+1+j,q=30,W=19,H=2*Z+1,$=15,G=16,X=7,J=256,K=16,Q=17,ee=18,te=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,ae=new Array(2*(Z+2));i(ae);var se=new Array(2*q);i(se);var fe=new Array(oe);i(fe);var le=new Array(F-V+1);i(le);var ue=new Array(j);i(ue);var he=new Array(q);i(he);var de,pe,ce,ge=!1;t._tr_init=P,t._tr_stored_block=z,t._tr_flush_block=A,t._tr_tally=L,t._tr_align=x},function(e,t){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=n},function(e,t,n){var i,r,o;(function(e,a){/**
	 * @license protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/protobuf.js for details
	 */
!function(e,s){n(12).amd?(r=[n(25)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(a.exports=o))):"object"==typeof a&&a&&a.exports?a.exports=s(n(25),!0):(e.dcodeIO=e.dcodeIO||{}).ProtoBuf=s(e.dcodeIO.ByteBuffer)}(this,function(t,i){"use strict";var r={};return r.ByteBuffer=t,r.Long=t.Long||null,r.VERSION="5.0.1",r.WIRE_TYPES={},r.WIRE_TYPES.VARINT=0,r.WIRE_TYPES.BITS64=1,r.WIRE_TYPES.LDELIM=2,r.WIRE_TYPES.STARTGROUP=3,r.WIRE_TYPES.ENDGROUP=4,r.WIRE_TYPES.BITS32=5,r.PACKABLE_WIRE_TYPES=[r.WIRE_TYPES.VARINT,r.WIRE_TYPES.BITS64,r.WIRE_TYPES.BITS32],r.TYPES={int32:{name:"int32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},uint32:{name:"uint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},uint64:{name:"uint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.UZERO:void 0},sint64:{name:"sint64",wireType:r.WIRE_TYPES.VARINT,defaultValue:r.Long?r.Long.ZERO:void 0},bool:{name:"bool",wireType:r.WIRE_TYPES.VARINT,defaultValue:!1},"double":{name:"double",wireType:r.WIRE_TYPES.BITS64,defaultValue:0},string:{name:"string",wireType:r.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:r.WIRE_TYPES.BITS64,defaultValue:r.Long?r.Long.ZERO:void 0},"float":{name:"float",wireType:r.WIRE_TYPES.BITS32,defaultValue:0},"enum":{name:"enum",wireType:r.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:r.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:r.WIRE_TYPES.STARTGROUP,defaultValue:null}},r.MAP_KEY_TYPES=[r.TYPES.int32,r.TYPES.sint32,r.TYPES.sfixed32,r.TYPES.uint32,r.TYPES.fixed32,r.TYPES.int64,r.TYPES.sint64,r.TYPES.sfixed64,r.TYPES.uint64,r.TYPES.fixed64,r.TYPES.bool,r.TYPES.string,r.TYPES.bytes],r.ID_MIN=1,r.ID_MAX=536870911,r.convertFieldsToCamelCase=!1,r.populateAccessors=!0,r.populateDefaults=!0,r.Util=function(){var t={};return t.IS_NODE=!("object"!=typeof e||e+""!="[object process]"||e.browser),t.XHR=function(){for(var e=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],t=null,n=0;n<e.length;n++){try{t=e[n]()}catch(i){continue}break}if(!t)throw Error("XMLHttpRequest is not supported");return t},t.fetch=function(e,i){if(i&&"function"!=typeof i&&(i=null),t.IS_NODE){var r=n(88);if(i)r.readFile(e,function(e,t){i(e?null:""+t)});else try{return r.readFileSync(e)}catch(o){return null}}else{var a=t.XHR();if(a.open("GET",e,!!i),a.setRequestHeader("Accept","text/plain"),"function"==typeof a.overrideMimeType&&a.overrideMimeType("text/plain"),!i)return a.send(null),200==a.status||0==a.status&&"string"==typeof a.responseText?a.responseText:null;if(a.onreadystatechange=function(){4==a.readyState&&i(200==a.status||0==a.status&&"string"==typeof a.responseText?a.responseText:null)},4==a.readyState)return;a.send(null)}},t.toCamelCase=function(e){return e.replace(/_([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},t}(),r.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g},r.Reflect=function(e){function n(n){if("string"==typeof n&&(n=e.TYPES[n]),"undefined"==typeof n.defaultValue)throw Error("default value for type "+n.name+" is not supported");return n==e.TYPES.bytes?new t(0):n.defaultValue}function i(t,n){if(t&&"number"==typeof t.low&&"number"==typeof t.high&&"boolean"==typeof t.unsigned&&t.low===t.low&&t.high===t.high)return new e.Long(t.low,t.high,"undefined"==typeof n?t.unsigned:n);if("string"==typeof t)return e.Long.fromString(t,n||!1,10);if("number"==typeof t)return e.Long.fromNumber(t,n||!1);throw Error("not convertible to Long")}function r(t,n){var i=n.readVarint32(),o=7&i,a=i>>>3;switch(o){case e.WIRE_TYPES.VARINT:do i=n.readUint8();while(128===(128&i));break;case e.WIRE_TYPES.BITS64:n.offset+=8;break;case e.WIRE_TYPES.LDELIM:i=n.readVarint32(),n.offset+=i;break;case e.WIRE_TYPES.STARTGROUP:r(a,n);break;case e.WIRE_TYPES.ENDGROUP:if(a===t)return!1;throw Error("Illegal GROUPEND after unknown group: "+a+" ("+t+" expected)");case e.WIRE_TYPES.BITS32:n.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+t+": "+o)}return!0}var o={},a=function(e,t,n){this.builder=e,this.parent=t,this.name=n,this.className},s=a.prototype;s.fqn=function(){for(var e=this.name,t=this;;){if(t=t.parent,null==t)break;e=t.name+"."+e}return e},s.toString=function(e){return(e?this.className+" ":"")+this.fqn()},s.build=function(){throw Error(this.toString(!0)+" cannot be built directly")},o.T=a;var f=function(e,t,n,i,r){a.call(this,e,t,n),this.className="Namespace",this.children=[],this.options=i||{},this.syntax=r||"proto2"},l=f.prototype=Object.create(a.prototype);l.getChildren=function(e){if(e=e||null,null==e)return this.children.slice();for(var t=[],n=0,i=this.children.length;i>n;++n)this.children[n]instanceof e&&t.push(this.children[n]);return t},l.addChild=function(e){var t;if(t=this.getChild(e.name))if(t instanceof d.Field&&t.name!==t.originalName&&null===this.getChild(t.originalName))t.name=t.originalName;else{if(!(e instanceof d.Field&&e.name!==e.originalName&&null===this.getChild(e.originalName)))throw Error("Duplicate name in namespace "+this.toString(!0)+": "+e.name);e.name=e.originalName}this.children.push(e)},l.getChild=function(e){for(var t="number"==typeof e?"id":"name",n=0,i=this.children.length;i>n;++n)if(this.children[n][t]===e)return this.children[n];return null},l.resolve=function(e,t){var n="string"==typeof e?e.split("."):e,i=this,r=0;if(""===n[r]){for(;null!==i.parent;)i=i.parent;r++}var a;do{do{if(!(i instanceof o.Namespace)){i=null;break}if(a=i.getChild(n[r]),!a||!(a instanceof o.T)||t&&!(a instanceof o.Namespace)){i=null;break}i=a,r++}while(r<n.length);if(null!=i)break;if(null!==this.parent)return this.parent.resolve(e,t)}while(null!=i);return i},l.qn=function(e){var t=[],n=e;do t.unshift(n.name),n=n.parent;while(null!==n);for(var i=1;i<=t.length;i++){var r=t.slice(t.length-i);if(e===this.resolve(r,e instanceof o.Namespace))return r.join(".")}return e.fqn()},l.build=function(){for(var e,t={},n=this.children,i=0,r=n.length;r>i;++i)e=n[i],e instanceof f&&(t[e.name]=e.build());return Object.defineProperty&&Object.defineProperty(t,"$options",{value:this.buildOpt()}),t},l.buildOpt=function(){for(var e={},t=Object.keys(this.options),n=0,i=t.length;i>n;++n){var r=t[n],o=this.options[t[n]];e[r]=o}return e},l.getOption=function(e){return"undefined"==typeof e?this.options:"undefined"!=typeof this.options[e]?this.options[e]:null},o.Namespace=f;var u=function(t,n,i,r){if(this.type=t,this.resolvedType=n,this.isMapKey=i,this.syntax=r,i&&e.MAP_KEY_TYPES.indexOf(t)<0)throw Error("Invalid map key type: "+t.name)},h=u.prototype;u.defaultFieldValue=n,h.verifyValue=function(n){function r(e,t){throw Error("Illegal value for "+o.toString(!0)+" of type "+o.type.name+": "+e+" ("+t+")")}var o=this;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:return("number"!=typeof n||n===n&&n%1!==0)&&r(typeof n,"not an integer"),n>4294967295?0|n:n;case e.TYPES.uint32:case e.TYPES.fixed32:return("number"!=typeof n||n===n&&n%1!==0)&&r(typeof n,"not an integer"),0>n?n>>>0:n;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:if(e.Long)try{return i(n,!1)}catch(a){r(typeof n,a.message)}else r(typeof n,"requires Long.js");case e.TYPES.uint64:case e.TYPES.fixed64:if(e.Long)try{return i(n,!0)}catch(a){r(typeof n,a.message)}else r(typeof n,"requires Long.js");case e.TYPES.bool:return"boolean"!=typeof n&&r(typeof n,"not a boolean"),n;case e.TYPES["float"]:case e.TYPES["double"]:return"number"!=typeof n&&r(typeof n,"not a number"),n;case e.TYPES.string:return"string"==typeof n||n&&n instanceof String||r(typeof n,"not a string"),""+n;case e.TYPES.bytes:return t.isByteBuffer(n)?n:t.wrap(n,"base64");case e.TYPES["enum"]:var s=this.resolvedType.getChildren(e.Reflect.Enum.Value);for(l=0;l<s.length;l++){if(s[l].name==n)return s[l].id;if(s[l].id==n)return s[l].id}if("proto3"===this.syntax)return("number"!=typeof n||n===n&&n%1!==0)&&r(typeof n,"not an integer"),(n>4294967295||0>n)&&r(typeof n,"not in range for uint32"),n;r(n,"not a valid enum value");case e.TYPES.group:case e.TYPES.message:if(n&&"object"==typeof n||r(typeof n,"object expected"),n instanceof this.resolvedType.clazz)return n;if(n instanceof e.Builder.Message){var f={};for(var l in n)n.hasOwnProperty(l)&&(f[l]=n[l]);n=f}return new this.resolvedType.clazz(n)}throw Error("[INTERNAL] Illegal value for "+this.toString(!0)+": "+n+" (undefined type "+this.type+")")},h.calculateLength=function(n,i){if(null===i)return 0;var r;switch(this.type){case e.TYPES.int32:return 0>i?t.calculateVarint64(i):t.calculateVarint32(i);case e.TYPES.uint32:return t.calculateVarint32(i);case e.TYPES.sint32:return t.calculateVarint32(t.zigZagEncode32(i));case e.TYPES.fixed32:case e.TYPES.sfixed32:case e.TYPES["float"]:return 4;case e.TYPES.int64:case e.TYPES.uint64:return t.calculateVarint64(i);case e.TYPES.sint64:return t.calculateVarint64(t.zigZagEncode64(i));case e.TYPES.fixed64:case e.TYPES.sfixed64:return 8;case e.TYPES.bool:return 1;case e.TYPES["enum"]:return t.calculateVarint32(i);case e.TYPES["double"]:return 8;case e.TYPES.string:return r=t.calculateUTF8Bytes(i),t.calculateVarint32(r)+r;case e.TYPES.bytes:if(i.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");return t.calculateVarint32(i.remaining())+i.remaining();case e.TYPES.message:return r=this.resolvedType.calculate(i),t.calculateVarint32(r)+r;case e.TYPES.group:return r=this.resolvedType.calculate(i),r+t.calculateVarint32(n<<3|e.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")},h.encodeValue=function(n,i,r){if(null===i)return r;switch(this.type){case e.TYPES.int32:0>i?r.writeVarint64(i):r.writeVarint32(i);break;case e.TYPES.uint32:r.writeVarint32(i);break;case e.TYPES.sint32:r.writeVarint32ZigZag(i);break;case e.TYPES.fixed32:r.writeUint32(i);break;case e.TYPES.sfixed32:r.writeInt32(i);break;case e.TYPES.int64:case e.TYPES.uint64:r.writeVarint64(i);break;case e.TYPES.sint64:r.writeVarint64ZigZag(i);break;case e.TYPES.fixed64:r.writeUint64(i);break;case e.TYPES.sfixed64:r.writeInt64(i);break;case e.TYPES.bool:"string"==typeof i?r.writeVarint32("false"===i.toLowerCase()?0:!!i):r.writeVarint32(i?1:0);break;case e.TYPES["enum"]:r.writeVarint32(i);break;case e.TYPES["float"]:r.writeFloat32(i);break;case e.TYPES["double"]:r.writeFloat64(i);break;case e.TYPES.string:r.writeVString(i);break;case e.TYPES.bytes:if(i.remaining()<0)throw Error("Illegal value for "+this.toString(!0)+": "+i.remaining()+" bytes remaining");var o=i.offset;r.writeVarint32(i.remaining()),r.append(i),i.offset=o;break;case e.TYPES.message:var a=(new t).LE();this.resolvedType.encode(i,a),r.writeVarint32(a.offset),r.append(a.flip());break;case e.TYPES.group:this.resolvedType.encode(i,r),r.writeVarint32(n<<3|e.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+i+" (unknown type)")}return r},h.decode=function(t,n,i){if(n!=this.type.wireType)throw Error("Unexpected wire type for element");var r,o;switch(this.type){case e.TYPES.int32:return 0|t.readVarint32();case e.TYPES.uint32:return t.readVarint32()>>>0;case e.TYPES.sint32:return 0|t.readVarint32ZigZag();case e.TYPES.fixed32:return t.readUint32()>>>0;case e.TYPES.sfixed32:return 0|t.readInt32();case e.TYPES.int64:return t.readVarint64();case e.TYPES.uint64:return t.readVarint64().toUnsigned();case e.TYPES.sint64:return t.readVarint64ZigZag();case e.TYPES.fixed64:return t.readUint64();case e.TYPES.sfixed64:return t.readInt64();case e.TYPES.bool:return!!t.readVarint32();case e.TYPES["enum"]:return t.readVarint32();case e.TYPES["float"]:return t.readFloat();case e.TYPES["double"]:return t.readDouble();case e.TYPES.string:return t.readVString();case e.TYPES.bytes:if(o=t.readVarint32(),t.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+t.remaining());return r=t.clone(),r.limit=r.offset+o,t.offset+=o,r;case e.TYPES.message:return o=t.readVarint32(),this.resolvedType.decode(t,o);case e.TYPES.group:return this.resolvedType.decode(t,-1,i)}throw Error("[INTERNAL] Illegal decode type")},h.valueFromString=function(n){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return this.verifyValue(parseInt(n));case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return this.verifyValue(n);case e.TYPES.bool:return"true"===n;case e.TYPES.string:return this.verifyValue(n);case e.TYPES.bytes:return t.fromBinary(n)}},h.valueToString=function(t){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===e.TYPES.bytes?t.toString("binary"):t.toString()},o.Element=u;var d=function(e,t,n,i,r,o){f.call(this,e,t,n,i,o),this.className="Message",this.extensions=void 0,this.clazz=null,this.isGroup=!!r,this._fields=null,this._fieldsById=null,this._fieldsByName=null},p=d.prototype=Object.create(f.prototype);p.build=function(n){if(this.clazz&&!n)return this.clazz;var i=function(e,n){function i(n,r,o,a){if(null===n||"object"!=typeof n){if(a&&a instanceof e.Reflect.Enum){var s=e.Reflect.Enum.getName(a.object,n);if(null!==s)return s}return n}if(t.isByteBuffer(n))return r?n.toBase64():n.toBuffer();if(e.Long.isLong(n))return o?n.toString():e.Long.fromValue(n);var f;if(Array.isArray(n))return f=[],n.forEach(function(e,t){f[t]=i(e,r,o,a)}),f;if(f={},n instanceof e.Map){for(var l=n.entries(),u=l.next();!u.done;u=l.next())f[n.keyElem.valueToString(u.value[0])]=i(u.value[1],r,o,n.valueElem.resolvedType);return f}var h=n.$type,d=void 0;for(var p in n)n.hasOwnProperty(p)&&(h&&(d=h.getChild(p))?f[p]=i(n[p],r,o,d.resolvedType):f[p]=i(n[p],r,o));return f}var r=n.getChildren(e.Reflect.Message.Field),o=n.getChildren(e.Reflect.Message.OneOf),a=function(i,s){e.Builder.Message.call(this);for(var f=0,l=o.length;l>f;++f)this[o[f].name]=null;for(f=0,l=r.length;l>f;++f){var u=r[f];this[u.name]=u.repeated?[]:u.map?new e.Map(u):null,!u.required&&"proto3"!==n.syntax||null===u.defaultValue||(this[u.name]=u.defaultValue)}if(arguments.length>0){var h;if(1!==arguments.length||null===i||"object"!=typeof i||!("function"!=typeof i.encode||i instanceof a)||Array.isArray(i)||i instanceof e.Map||t.isByteBuffer(i)||i instanceof ArrayBuffer||e.Long&&i instanceof e.Long)for(f=0,l=arguments.length;l>f;++f)"undefined"!=typeof(h=arguments[f])&&this.$set(r[f].name,h);else this.$set(i)}},s=a.prototype=Object.create(e.Builder.Message.prototype);s.add=function(t,i,r){var o=n._fieldsByName[t];if(!r){if(!o)throw Error(this+"#"+t+" is undefined");if(!(o instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+o.toString(!0));if(!o.repeated)throw Error(this+"#"+t+" is not a repeated field");i=o.verifyValue(i,!0)}return null===this[t]&&(this[t]=[]),this[t].push(i),this},s.$add=s.add,s.set=function(t,i,r){if(t&&"object"==typeof t){r=i;for(var o in t)t.hasOwnProperty(o)&&"undefined"!=typeof(i=t[o])&&this.$set(o,i,r);return this}var a=n._fieldsByName[t];if(r)this[t]=i;else{if(!a)throw Error(this+"#"+t+" is not a field: undefined");if(!(a instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+a.toString(!0));this[a.name]=i=a.verifyValue(i)}if(a&&a.oneof){var s=this[a.oneof.name];null!==i?(null!==s&&s!==a.name&&(this[s]=null),this[a.oneof.name]=a.name):s===t&&(this[a.oneof.name]=null)}return this},s.$set=s.set,s.get=function(t,i){if(i)return this[t];var r=n._fieldsByName[t];if(!(r&&r instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: undefined");if(!(r instanceof e.Reflect.Message.Field))throw Error(this+"#"+t+" is not a field: "+r.toString(!0));return this[r.name]},s.$get=s.get;for(var f=0;f<r.length;f++){var l=r[f];l instanceof e.Reflect.Message.ExtensionField||n.builder.options.populateAccessors&&function(e){var t=e.originalName.replace(/(_[a-zA-Z])/g,function(e){return e.toUpperCase().replace("_","")});t=t.substring(0,1).toUpperCase()+t.substring(1);var i=e.originalName.replace(/([A-Z])/g,function(e){return"_"+e}),r=function(t,n){return this[e.name]=n?t:e.verifyValue(t),this},o=function(){return this[e.name]};null===n.getChild("set"+t)&&(s["set"+t]=r),null===n.getChild("set_"+i)&&(s["set_"+i]=r),null===n.getChild("get"+t)&&(s["get"+t]=o),null===n.getChild("get_"+i)&&(s["get_"+i]=o)}(l)}s.encode=function(e,i){"boolean"==typeof e&&(i=e,e=void 0);var r=!1;e||(e=new t,r=!0);var o=e.littleEndian;try{return n.encode(this,e.LE(),i),(r?e.flip():e).LE(o)}catch(a){throw e.LE(o),a}},a.encode=function(e,t,n){return new a(e).encode(t,n)},s.calculate=function(){return n.calculate(this)},s.encodeDelimited=function(e,i){var r=!1;e||(e=new t,r=!0);var o=(new t).LE();return n.encode(this,o,i).flip(),e.writeVarint32(o.remaining()),e.append(o),r?e.flip():e},s.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toArrayBuffer()),e}},s.toArrayBuffer=s.encodeAB,s.encodeNB=function(){try{return this.encode().toBuffer()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBuffer()),e}},s.toBuffer=s.encodeNB,s.encode64=function(){try{return this.encode().toBase64()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toBase64()),e}},s.toBase64=s.encode64,s.encodeHex=function(){try{return this.encode().toHex()}catch(e){throw e.encoded&&(e.encoded=e.encoded.toHex()),e}},s.toHex=s.encodeHex,s.toRaw=function(e,t){return i(this,!!e,!!t,this.$type)},s.encodeJSON=function(){return JSON.stringify(i(this,!0,!0,this.$type))},a.decode=function(e,i,r){"string"==typeof i&&(r=i,i=-1),"string"==typeof e&&(e=t.wrap(e,r?r:"base64")),e=t.isByteBuffer(e)?e:t.wrap(e);var o=e.littleEndian;try{var a=n.decode(e.LE());return e.LE(o),a}catch(s){throw e.LE(o),s}},a.decodeDelimited=function(e,i){if("string"==typeof e&&(e=t.wrap(e,i?i:"base64")),e=t.isByteBuffer(e)?e:t.wrap(e),e.remaining()<1)return null;var r=e.offset,o=e.readVarint32();if(e.remaining()<o)return e.offset=r,null;try{var a=n.decode(e.slice(e.offset,e.offset+o).LE());return e.offset+=o,a}catch(s){throw e.offset+=o,s}},a.decode64=function(e){return a.decode(e,"base64")},a.decodeHex=function(e){return a.decode(e,"hex")},a.decodeJSON=function(e){return new a(JSON.parse(e))},s.toString=function(){return n.toString()};return Object.defineProperty&&(Object.defineProperty(a,"$options",{value:n.buildOpt()}),Object.defineProperty(s,"$options",{value:a.$options}),Object.defineProperty(a,"$type",{value:n}),Object.defineProperty(s,"$type",{value:n})),a}(e,this);this._fields=[],this._fieldsById={},this._fieldsByName={};for(var r,o=0,a=this.children.length;a>o;o++)if(r=this.children[o],r instanceof v||r instanceof d||r instanceof E){if(i.hasOwnProperty(r.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+r.toString(!0)+" cannot override static property '"+r.name+"'");i[r.name]=r.build()}else if(r instanceof d.Field)r.build(),this._fields.push(r),this._fieldsById[r.id]=r,this._fieldsByName[r.name]=r;else if(!(r instanceof d.OneOf||r instanceof b))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[o].toString(!0));return this.clazz=i},p.encode=function(e,t,n){for(var i,r,o=null,a=0,s=this._fields.length;s>a;++a)i=this._fields[a],r=e[i.name],i.required&&null===r?null===o&&(o=i):i.encode(n?r:i.verifyValue(r),t,e);if(null!==o){var f=Error("Missing at least one required field for "+this.toString(!0)+": "+o);throw f.encoded=t,f}return t},p.calculate=function(e){for(var t,n,i=0,r=0,o=this._fields.length;o>r;++r){if(t=this._fields[r],n=e[t.name],t.required&&null===n)throw Error("Missing at least one required field for "+this.toString(!0)+": "+t);i+=t.calculate(n,e)}return i},p.decode=function(t,n,i){n="number"==typeof n?n:-1;for(var o,a,s,f,l=t.offset,u=new this.clazz;t.offset<l+n||-1===n&&t.remaining()>0;){if(o=t.readVarint32(),a=7&o,s=o>>>3,a===e.WIRE_TYPES.ENDGROUP){if(s!==i)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+s+" ("+(i?i+" expected":"not a group")+")");break}if(f=this._fieldsById[s]){if(f.repeated&&!f.options.packed)u[f.name].push(f.decode(a,t));else if(f.map){var h=f.decode(a,t);u[f.name].set(h[0],h[1])}else if(u[f.name]=f.decode(a,t),f.oneof){var d=u[f.oneof.name];null!==d&&d!==f.name&&(u[d]=null),u[f.oneof.name]=f.name}}else switch(a){case e.WIRE_TYPES.VARINT:t.readVarint32();break;case e.WIRE_TYPES.BITS32:t.offset+=4;break;case e.WIRE_TYPES.BITS64:t.offset+=8;break;case e.WIRE_TYPES.LDELIM:var p=t.readVarint32();t.offset+=p;break;case e.WIRE_TYPES.STARTGROUP:for(;r(s,t););break;default:throw Error("Illegal wire type for unknown field "+s+" in "+this.toString(!0)+"#decode: "+a)}}for(var c=0,g=this._fields.length;g>c;++c)if(f=this._fields[c],null===u[f.name])if("proto3"===this.syntax)u[f.name]=f.defaultValue;else{if(f.required){var m=Error("Missing at least one required field for "+this.toString(!0)+": "+f.name);throw m.decoded=u,m}e.populateDefaults&&null!==f.defaultValue&&(u[f.name]=f.defaultValue)}return u},o.Message=d;var c=function(t,n,i,r,o,s,f,l,u,h){a.call(this,t,n,s),this.className="Message.Field",this.required="required"===i,this.repeated="repeated"===i,this.map="map"===i,this.keyType=r||null,this.type=o,this.resolvedType=null,this.id=f,this.options=l||{},this.defaultValue=null,this.oneof=u||null,this.syntax=h||"proto2",this.originalName=this.name,this.element=null,this.keyElement=null,!this.builder.options.convertFieldsToCamelCase||this instanceof d.ExtensionField||(this.name=e.Util.toCamelCase(this.name))},g=c.prototype=Object.create(a.prototype);g.build=function(){this.element=new u(this.type,this.resolvedType,!1,this.syntax),this.map&&(this.keyElement=new u(this.keyType,void 0,!0,this.syntax)),"proto3"!==this.syntax||this.repeated||this.map?"undefined"!=typeof this.options["default"]&&(this.defaultValue=this.verifyValue(this.options["default"])):this.defaultValue=u.defaultFieldValue(this.type)},g.verifyValue=function(t,n){function i(e,t){throw Error("Illegal value for "+r.toString(!0)+" of type "+r.type.name+": "+e+" ("+t+")")}n=n||!1;var r=this;if(null===t)return this.required&&i(typeof t,"required"),"proto3"===this.syntax&&this.type!==e.TYPES.message&&i(typeof t,"proto3 field without field presence cannot be null"),null;var o;if(this.repeated&&!n){Array.isArray(t)||(t=[t]);var a=[];for(o=0;o<t.length;o++)a.push(this.element.verifyValue(t[o]));return a}return this.map&&!n?t instanceof e.Map?t:(t instanceof Object||i(typeof t,"expected ProtoBuf.Map or raw object for map field"),new e.Map(this,t)):(!this.repeated&&Array.isArray(t)&&i(typeof t,"no array expected"),this.element.verifyValue(t))},g.hasWirePresence=function(t,n){if("proto3"!==this.syntax)return null!==t;if(this.oneof&&n[this.oneof.name]===this.name)return!0;switch(this.type){case e.TYPES.int32:case e.TYPES.sint32:case e.TYPES.sfixed32:case e.TYPES.uint32:case e.TYPES.fixed32:return 0!==t;case e.TYPES.int64:case e.TYPES.sint64:case e.TYPES.sfixed64:case e.TYPES.uint64:case e.TYPES.fixed64:return 0!==t.low||0!==t.high;case e.TYPES.bool:return t;case e.TYPES["float"]:case e.TYPES["double"]:return 0!==t;case e.TYPES.string:return t.length>0;case e.TYPES.bytes:return t.remaining()>0;case e.TYPES["enum"]:return 0!==t;case e.TYPES.message:return null!==t;default:return!0}},g.encode=function(n,i,r){if(null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return i;try{if(this.repeated){var o;if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){i.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),i.ensureCapacity(i.offset+=1);var a=i.offset;for(o=0;o<n.length;o++)this.element.encodeValue(this.id,n[o],i);var s=i.offset-a,f=t.calculateVarint32(s);if(f>1){var l=i.slice(a,i.offset);a+=f-1,i.offset=a,i.append(l)}i.writeVarint32(s,a-f)}else for(o=0;o<n.length;o++)i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n[o],i)}else this.map?n.forEach(function(n,r,o){var a=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,r)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);i.writeVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),i.writeVarint32(a),i.writeVarint32(8|this.keyType.wireType),this.keyElement.encodeValue(1,r,i),i.writeVarint32(16|this.type.wireType),this.element.encodeValue(2,n,i)},this):this.hasWirePresence(n,r)&&(i.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,n,i))}catch(u){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+u+")")}return i},g.calculate=function(n,i){if(n=this.verifyValue(n),null===this.type||"object"!=typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===n||this.repeated&&0==n.length)return 0;var r=0;try{if(this.repeated){var o,a;if(this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0){for(r+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),a=0,o=0;o<n.length;o++)a+=this.element.calculateLength(this.id,n[o]);r+=t.calculateVarint32(a),r+=a}else for(o=0;o<n.length;o++)r+=t.calculateVarint32(this.id<<3|this.type.wireType),r+=this.element.calculateLength(this.id,n[o])}else this.map?n.forEach(function(n,i,o){var a=t.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,i)+t.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,n);r+=t.calculateVarint32(this.id<<3|e.WIRE_TYPES.LDELIM),r+=t.calculateVarint32(a),r+=a},this):this.hasWirePresence(n,i)&&(r+=t.calculateVarint32(this.id<<3|this.type.wireType),r+=this.element.calculateLength(this.id,n))}catch(s){throw Error("Illegal value for "+this.toString(!0)+": "+n+" ("+s+")")}return r},g.decode=function(t,n,i){var r,o,a=!this.map&&t==this.type.wireType||!i&&this.repeated&&this.options.packed&&t==e.WIRE_TYPES.LDELIM||this.map&&t==e.WIRE_TYPES.LDELIM;if(!a)throw Error("Illegal wire type for field "+this.toString(!0)+": "+t+" ("+this.type.wireType+" expected)");if(t==e.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&e.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)>=0&&!i){o=n.readVarint32(),o=n.offset+o;for(var s=[];n.offset<o;)s.push(this.decode(this.type.wireType,n,!0));return s}if(this.map){var f=u.defaultFieldValue(this.keyType);if(r=u.defaultFieldValue(this.type),o=n.readVarint32(),n.remaining()<o)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+o+" required but got only "+n.remaining());var l=n.clone();for(l.limit=l.offset+o,n.offset+=o;l.remaining()>0;){var h=l.readVarint32();t=7&h;var d=h>>>3;if(1===d)f=this.keyElement.decode(l,t,d);else{if(2!==d)throw Error("Unexpected tag in map field key/value submessage");r=this.element.decode(l,t,d)}}return[f,r]}return this.element.decode(n,t,this.id)},o.Message.Field=c;var m=function(e,t,n,i,r,o,a){c.call(this,e,t,n,null,i,r,o,a),this.extension};m.prototype=Object.create(c.prototype),o.Message.ExtensionField=m;var y=function(e,t,n){a.call(this,e,t,n),this.fields=[]};o.Message.OneOf=y;var v=function(e,t,n,i,r){f.call(this,e,t,n,i,r),this.className="Enum",this.object=null};v.getName=function(e,t){for(var n,i=Object.keys(e),r=0;r<i.length;++r)if(e[n=i[r]]===t)return n;return null};var _=v.prototype=Object.create(f.prototype);_.build=function(t){if(this.object&&!t)return this.object;for(var n=new e.Builder.Enum,i=this.getChildren(v.Value),r=0,o=i.length;o>r;++r)n[i[r].name]=i[r].id;return Object.defineProperty&&Object.defineProperty(n,"$options",{value:this.buildOpt(),enumerable:!1}),this.object=n},o.Enum=v;var w=function(e,t,n,i){a.call(this,e,t,n),this.className="Enum.Value",this.id=i};w.prototype=Object.create(a.prototype),o.Enum.Value=w;var b=function(e,t,n,i){a.call(this,e,t,n),this.field=i};b.prototype=Object.create(a.prototype),o.Extension=b;var E=function(e,t,n,i){f.call(this,e,t,n,i),this.className="Service",this.clazz=null},T=E.prototype=Object.create(f.prototype);T.build=function(n){return this.clazz&&!n?this.clazz:this.clazz=function(e,n){for(var i=function(t){e.Builder.Service.call(this),this.rpcImpl=t||function(e,t,n){setTimeout(n.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},r=i.prototype=Object.create(e.Builder.Service.prototype),o=n.getChildren(e.Reflect.Service.RPCMethod),a=0;a<o.length;a++)!function(e){r[e.name]=function(i,r){try{try{i=e.resolvedRequestType.clazz.decode(t.wrap(i))}catch(o){if(!(o instanceof TypeError))throw o}if(null===i||"object"!=typeof i)throw Error("Illegal arguments");i instanceof e.resolvedRequestType.clazz||(i=new e.resolvedRequestType.clazz(i)),this.rpcImpl(e.fqn(),i,function(t,i){if(t)return void r(t);null===i&&(i="");try{i=e.resolvedResponseType.clazz.decode(i)}catch(o){}return i&&i instanceof e.resolvedResponseType.clazz?void r(null,i):void r(Error("Illegal response type received in service method "+n.name+"#"+e.name))})}catch(o){setTimeout(r.bind(this,o),0)}},i[e.name]=function(t,n,r){new i(t)[e.name](n,r)},Object.defineProperty&&(Object.defineProperty(i[e.name],"$options",{value:e.buildOpt()}),Object.defineProperty(r[e.name],"$options",{value:i[e.name].$options}))}(o[a]);return Object.defineProperty&&(Object.defineProperty(i,"$options",{value:n.buildOpt()}),Object.defineProperty(r,"$options",{value:i.$options}),Object.defineProperty(i,"$type",{value:n}),Object.defineProperty(r,"$type",{value:n})),i}(e,this)},o.Service=E;var I=function(e,t,n,i){a.call(this,e,t,n),this.className="Service.Method",this.options=i||{}},S=I.prototype=Object.create(a.prototype);S.buildOpt=l.buildOpt,o.Service.Method=I;var k=function(e,t,n,i,r,o,a,s){I.call(this,e,t,n,s),this.className="Service.RPCMethod",this.requestName=i,this.responseName=r,this.requestStream=o,this.responseStream=a,this.resolvedRequestType=null,this.resolvedResponseType=null};return k.prototype=Object.create(I.prototype),o.Service.RPCMethod=k,o}(r),r.Builder=function(e,t,i){function r(e){e.messages&&e.messages.forEach(function(t){t.syntax=e.syntax,r(t)}),e.enums&&e.enums.forEach(function(t){t.syntax=e.syntax})}var o=function(e){this.ns=new i.Namespace(this,null,""),this.ptr=this.ns,this.resolved=!1,this.result=null,this.files={},this.importRoot=null,this.options=e||{}},a=o.prototype;return o.isMessage=function(e){return"string"!=typeof e.name?!1:"undefined"==typeof e.values&&"undefined"==typeof e.rpc},o.isMessageField=function(e){return"string"==typeof e.rule&&"string"==typeof e.name&&"string"==typeof e.type&&"undefined"!=typeof e.id;
},o.isEnum=function(e){return"string"!=typeof e.name?!1:!("undefined"==typeof e.values||!Array.isArray(e.values)||0===e.values.length)},o.isService=function(e){return!("string"!=typeof e.name||"object"!=typeof e.rpc||!e.rpc)},o.isExtend=function(e){return"string"==typeof e.ref},a.reset=function(){return this.ptr=this.ns,this},a.define=function(e){if("string"!=typeof e||!t.TYPEREF.test(e))throw Error("illegal namespace: "+e);return e.split(".").forEach(function(e){var t=this.ptr.getChild(e);null===t&&this.ptr.addChild(t=new i.Namespace(this,this.ptr,e)),this.ptr=t},this),this},a.create=function(t){if(!t)return this;if(Array.isArray(t)){if(0===t.length)return this;t=t.slice()}else t=[t];for(var n=[t];n.length>0;){if(t=n.pop(),!Array.isArray(t))throw Error("not a valid namespace: "+JSON.stringify(t));for(;t.length>0;){var r=t.shift();if(o.isMessage(r)){var a=new i.Message(this,this.ptr,r.name,r.options,r.isGroup,r.syntax),s={};r.oneofs&&Object.keys(r.oneofs).forEach(function(e){a.addChild(s[e]=new i.Message.OneOf(this,a,e))},this),r.fields&&r.fields.forEach(function(e){if(null!==a.getChild(0|e.id))throw Error("duplicate or invalid field id in "+a.name+": "+e.id);if(e.options&&"object"!=typeof e.options)throw Error("illegal field options in "+a.name+"#"+e.name);var t=null;if("string"==typeof e.oneof&&!(t=s[e.oneof]))throw Error("illegal oneof in "+a.name+"#"+e.name+": "+e.oneof);e=new i.Message.Field(this,a,e.rule,e.keytype,e.type,e.name,e.id,e.options,t,r.syntax),t&&t.fields.push(e),a.addChild(e)},this);var f=[];if(r.enums&&r.enums.forEach(function(e){f.push(e)}),r.messages&&r.messages.forEach(function(e){f.push(e)}),r.services&&r.services.forEach(function(e){f.push(e)}),r.extensions&&("number"==typeof r.extensions[0]?a.extensions=[r.extensions]:a.extensions=r.extensions),this.ptr.addChild(a),f.length>0){n.push(t),t=f,f=null,this.ptr=a,a=null;continue}f=null}else if(o.isEnum(r))a=new i.Enum(this,this.ptr,r.name,r.options,r.syntax),r.values.forEach(function(e){a.addChild(new i.Enum.Value(this,a,e.name,e.id))},this),this.ptr.addChild(a);else if(o.isService(r))a=new i.Service(this,this.ptr,r.name,r.options),Object.keys(r.rpc).forEach(function(e){var t=r.rpc[e];a.addChild(new i.Service.RPCMethod(this,a,e,t.request,t.response,!!t.request_stream,!!t.response_stream,t.options))},this),this.ptr.addChild(a);else{if(!o.isExtend(r))throw Error("not a valid definition: "+JSON.stringify(r));if(a=this.ptr.resolve(r.ref,!0))r.fields.forEach(function(t){if(null!==a.getChild(0|t.id))throw Error("duplicate extended field id in "+a.name+": "+t.id);if(a.extensions){var n=!1;if(a.extensions.forEach(function(e){t.id>=e[0]&&t.id<=e[1]&&(n=!0)}),!n)throw Error("illegal extended field id in "+a.name+": "+t.id+" (not within valid ranges)")}var r=t.name;this.options.convertFieldsToCamelCase&&(r=e.Util.toCamelCase(r));var o=new i.Message.ExtensionField(this,a,t.rule,t.type,this.ptr.fqn()+"."+r,t.id,t.options),s=new i.Extension(this,this.ptr,t.name,o);o.extension=s,this.ptr.addChild(s),a.addChild(o)},this);else if(!/\.?google\.protobuf\./.test(r.ref))throw Error("extended message "+r.ref+" is not defined")}r=null,a=null}t=null,this.ptr=this.ptr.parent}return this.resolved=!1,this.result=null,this},a["import"]=function(t,i){var o="/";if("string"==typeof i){if(e.Util.IS_NODE&&(i=n(27).resolve(i)),this.files[i]===!0)return this.reset();this.files[i]=!0}else if("object"==typeof i){var a=i.root;e.Util.IS_NODE&&(a=n(27).resolve(a)),(a.indexOf("\\")>=0||i.file.indexOf("\\")>=0)&&(o="\\");var s=a+o+i.file;if(this.files[s]===!0)return this.reset();this.files[s]=!0}if(t.imports&&t.imports.length>0){var f,l=!1;"object"==typeof i?(this.importRoot=i.root,l=!0,f=this.importRoot,i=i.file,(f.indexOf("\\")>=0||i.indexOf("\\")>=0)&&(o="\\")):"string"==typeof i?this.importRoot?f=this.importRoot:i.indexOf("/")>=0?(f=i.replace(/\/[^\/]*$/,""),""===f&&(f="/")):i.indexOf("\\")>=0?(f=i.replace(/\\[^\\]*$/,""),o="\\"):f=".":f=null;for(var u=0;u<t.imports.length;u++)if("string"==typeof t.imports[u]){if(!f)throw Error("cannot determine import root");var h=t.imports[u];if("google/protobuf/descriptor.proto"===h)continue;if(h=f+o+h,this.files[h]===!0)continue;/\.proto$/i.test(h)&&!e.DotProto&&(h=h.replace(/\.proto$/,".json"));var d=e.Util.fetch(h);if(null===d)throw Error("failed to import '"+h+"' in '"+i+"': file not found");/\.json$/i.test(h)?this["import"](JSON.parse(d+""),h):this["import"](e.DotProto.Parser.parse(d),h)}else i?/\.(\w+)$/.test(i)?this["import"](t.imports[u],i.replace(/^(.+)\.(\w+)$/,function(e,t,n){return t+"_import"+u+"."+n})):this["import"](t.imports[u],i+"_import"+u):this["import"](t.imports[u]);l&&(this.importRoot=null)}t["package"]&&this.define(t["package"]),t.syntax&&r(t);var p=this.ptr;return t.options&&Object.keys(t.options).forEach(function(e){p.options[e]=t.options[e]}),t.messages&&(this.create(t.messages),this.ptr=p),t.enums&&(this.create(t.enums),this.ptr=p),t.services&&(this.create(t.services),this.ptr=p),t["extends"]&&this.create(t["extends"]),this.reset()},a.resolveAll=function(){var n;if(null==this.ptr||"object"==typeof this.ptr.type)return this;if(this.ptr instanceof i.Namespace)this.ptr.children.forEach(function(e){this.ptr=e,this.resolveAll()},this);else if(this.ptr instanceof i.Message.Field){if(t.TYPE.test(this.ptr.type))this.ptr.type=e.TYPES[this.ptr.type];else{if(!t.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(n=(this.ptr instanceof i.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0),!n)throw Error("unresolvable type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);if(this.ptr.resolvedType=n,n instanceof i.Enum){if(this.ptr.type=e.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==n.syntax)throw Error("proto3 message cannot reference proto2 enum")}else{if(!(n instanceof i.Message))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.type=n.isGroup?e.TYPES.group:e.TYPES.message}}if(this.ptr.map){if(!t.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=e.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof e.Reflect.Service.Method){if(!(this.ptr instanceof e.Reflect.Service.RPCMethod))throw Error("illegal service type in "+this.ptr.toString(!0));if(n=this.ptr.parent.resolve(this.ptr.requestName,!0),!(n&&n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);if(this.ptr.resolvedRequestType=n,n=this.ptr.parent.resolve(this.ptr.responseName,!0),!(n&&n instanceof e.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=n}else if(!(this.ptr instanceof e.Reflect.Message.OneOf||this.ptr instanceof e.Reflect.Extension||this.ptr instanceof e.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()},a.build=function(e){if(this.reset(),this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null),null===this.result&&(this.result=this.ns.build()),!e)return this.result;for(var t="string"==typeof e?e.split("."):e,n=this.result,i=0;i<t.length;i++){if(!n[t[i]]){n=null;break}n=n[t[i]]}return n},a.lookup=function(e,t){return e?this.ns.resolve(e,t):this.ns},a.toString=function(){return"Builder"},o.Message=function(){},o.Enum=function(){},o.Service=function(){},o}(r,r.Lang,r.Reflect),r.Map=function(e,t){function n(e){var t=0;return{next:function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}}var i=function(e,n){if(!e.map)throw Error("field is not a map");if(this.field=e,this.keyElem=new t.Element(e.keyType,null,!0,e.syntax),this.valueElem=new t.Element(e.type,e.resolvedType,!1,e.syntax),this.map={},Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}}),n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=this.keyElem.valueFromString(i[r]),a=this.valueElem.verifyValue(n[i[r]]);this.map[this.keyElem.valueToString(o)]={key:o,value:a}}},r=i.prototype;return r.clear=function(){this.map={}},r["delete"]=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e)),n=t in this.map;return delete this.map[t],n},r.entries=function(){for(var e,t=[],i=Object.keys(this.map),r=0;r<i.length;r++)t.push([(e=this.map[i[r]]).key,e.value]);return n(t)},r.keys=function(){for(var e=[],t=Object.keys(this.map),i=0;i<t.length;i++)e.push(this.map[t[i]].key);return n(e)},r.values=function(){for(var e=[],t=Object.keys(this.map),i=0;i<t.length;i++)e.push(this.map[t[i]].value);return n(e)},r.forEach=function(e,t){for(var n,i=Object.keys(this.map),r=0;r<i.length;r++)e.call(t,(n=this.map[i[r]]).value,n.key,this)},r.set=function(e,t){var n=this.keyElem.verifyValue(e),i=this.valueElem.verifyValue(t);return this.map[this.keyElem.valueToString(n)]={key:n,value:i},this},r.get=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));if(t in this.map)return this.map[t].value},r.has=function(e){var t=this.keyElem.valueToString(this.keyElem.verifyValue(e));return t in this.map},i}(r,r.Reflect),r.newBuilder=function(e){return e=e||{},"undefined"==typeof e.convertFieldsToCamelCase&&(e.convertFieldsToCamelCase=r.convertFieldsToCamelCase),"undefined"==typeof e.populateAccessors&&(e.populateAccessors=r.populateAccessors),new r.Builder(e)},r.loadJson=function(e,t,n){return("string"==typeof t||t&&"string"==typeof t.file&&"string"==typeof t.root)&&(n=t,t=null),t&&"object"==typeof t||(t=r.newBuilder()),"string"==typeof e&&(e=JSON.parse(e)),t["import"](e,n),t.resolveAll(),t},r.loadJsonFile=function(e,t,n){if(t&&"object"==typeof t?(n=t,t=null):t&&"function"==typeof t||(t=null),t)return r.Util.fetch("string"==typeof e?e:e.root+"/"+e.file,function(i){if(null===i)return void t(Error("Failed to fetch file"));try{t(null,r.loadJson(JSON.parse(i),n,e))}catch(o){t(o)}});var i=r.Util.fetch("object"==typeof e?e.root+"/"+e.file:e);return null===i?null:r.loadJson(JSON.parse(i),n,e)},r})}).call(t,n(87),n(13)(e))},function(e,t){(function(t){var n;if(t.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);n=function(){return crypto.getRandomValues(i),i}}if(!n){var r=new Array(16);n=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}e.exports=n}).call(t,function(){return this}())},function(e,t,n){function i(e,t,n){var i=t&&n||0,r=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>r&&(t[i+r++]=l[e])});16>r;)t[i+r++]=0;return t}function r(e,t){var n=t||0,i=f;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]}function o(e,t,n){var i=t&&n||0,o=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:p,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:g+1,l=s-c+(f-g)/1e4;if(0>l&&void 0===e.clockseq&&(a=a+1&16383),(0>l||s>c)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=s,g=f,p=a,s+=122192928e5;var u=(1e4*(268435455&s)+f)%4294967296;o[i++]=u>>>24&255,o[i++]=u>>>16&255,o[i++]=u>>>8&255,o[i++]=255&u;var h=s/4294967296*1e4&268435455;o[i++]=h>>>8&255,o[i++]=255&h,o[i++]=h>>>24&15|16,o[i++]=h>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var m=e.node||d,y=0;6>y;y++)o[i+y]=m[y];return t?t:r(o)}function a(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var o=e.random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var a=0;16>a;a++)t[i+a]=o[a];return t||r(o)}for(var s=n(85),f=[],l={},u=0;256>u;u++)f[u]=(u+256).toString(16).substr(1),l[f[u]]=u;var h=s(),d=[1|h[0],h[1],h[2],h[3],h[4],h[5]],p=16383&(h[6]<<8|h[7]),c=0,g=0,m=a;m.v1=o,m.v4=a,m.parse=i,m.unparse=r,e.exports=m},function(e,t){function n(){l=!1,a.length?f=a.concat(f):u=-1,f.length&&i()}function i(){if(!l){var e=setTimeout(n);l=!0;for(var t=f.length;t;){for(a=f,f=[];++u<t;)a&&a[u].run();u=-1,t=f.length}a=null,l=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},f=[],l=!1,u=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new r(e,t)),1!==f.length||l||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t){}])});